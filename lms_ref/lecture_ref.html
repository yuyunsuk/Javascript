
<!DOCTYPE html>
<html lang="ko">
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-P8LB83C');</script>
  <!-- End Google Tag Manager -->

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light only"/>
  <meta name="supported-color-schemes" content="light"/>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="format-detection" content="telephone=no" />
  <meta name="keywords" content="스마트 직업훈련 플랫폼, 직무과정, 공통과정, VR과정, 소셜위키, 마켓, 기술공학, 무료,직업훈련, 직업교육, 직업개발, 직업능력, 평생학습, 평생훈련, 평생교육, 평생능력,평생직업, 기업맞춤, 혼합훈련, 희망계단, 국민 평생직업능력개발, 평생직업능력개발,평생직업능력, 스마트플랫폼, 직업훈련 플랫폼, 플랫폼, 전국민,K-디지터, KDC, 온라인평생교육원, 이코리아텍, 한국기술교육대학교, 한기대"/>
  <meta name="description" content="STEP(희망계단)은 Smart Training Education Platform의 약자로, 전 국민 누구나 이용할 수 있는 온라인 기반의 평생직업능력개발 학습 플랫폼입니다. STEP은 온라인 직업교육 생태계를 만들고 일자리 안정망을 좀 더 촘촘하게 만들어줄 플랫폼으로서, 4차산업에 대비할 수 있도록 훈련콘텐츠를 생산·유통·활용 할 수 있도록 돕고, 다양한 방식으로 맞춤 직업훈련을 받을 수 있도록 지원합니다."> <!-- 01. Description(검색 결과에 표시되는 문자 지정)    -->
  <meta http-equiv="publisher" content="한국기술교육대학교 온라인평생교육원" />
  <meta name="naver-site-verification" content="bbc6fa978abb18437ee4950ec83a99f82ade5e2d" />
  <!-- 네이버 사이트 소유확인 (230712) -->

  <meta property="og:url" content="https://www.step.or.kr"/>
  <meta property="og:title" content="STEP"/>
  <meta property="og:image" content="https://www.step.or.kr/images/template11/resp/default/usr/img_step_bi.png"/>
  <meta property="og:description" content="스마트 직업훈련 플랫폼, 직무과정, 공통과정, VR과정, 소셜위키, 마켓, 기술공학, 직업훈련, 직업교육, 직업개발, 직업능력, 평생훈련, 평생교육, 평생능력, 평생직업, 기업맞춤, 혼합훈련, STEP">

  <title>K-디지털 | 국민평생직업능력개발 STEP</title>

  <link rel="icon" href="/step/img/favicon.png" />
  <link rel="apple-touch-icon" href="/step/img/favicon.png" />
    
<!--bootstrap-->
    <link href="/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <link href="/bootstrap/css/bootstrap-icons.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap-select.min.css ">
    <link href="/jquery/jquery-ui.css" rel="stylesheet" />
    <link href="/css/jstree/default/style.min.css" rel="stylesheet" />
    <link href="/themes/include/css/theme.css" rel="stylesheet" />
    <link href="/themes/step/css/theme.css" rel="stylesheet" />
    <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/jquery/external/jquery/jquery.js"></script>
    <script src="/jquery/jquery-ui.js"></script>
    <script src="/jquery/plugins/jsrender.min.js"></script>
    <script src="/js/jstree.min.js"></script>
    <script src="/js/i18n/jquery.i18n.js"></script>
    <script src="/js/i18n/jquery.i18n.messagestore.js"></script>

    <script src="/jquery/plugins/jsrender.min.js"></script>
    <script src="/jquery/plugins/jsviews.min.js"></script>
    <script src="/jquery/plugins/jsviews-jqueryui-widgets.min.js"></script>

    <script src="/js/common.js"></script>
    <script src="/js/iframe/iframeResizer.js"></script>
    <script src="/js/iframe/iframeResizer.contentWindow.min.js"></script>
    <script src="/js/moment.js" ></script>
    <script src="/slick/slick.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js"></script>


<script>
    var langCl = 'ko';
    var langData = {};
    $.t =    $.i18n;
    $.langCl = langCl;

    $(document).ready(function() {
        //i18n로드
        $.i18n().load({
            'ko' : '/wz/api/admin/msgs/json/ko.json'
        }).then(function(){
            langData = $.i18n().messageStore.messages.ko;
            $.i18n().locale = 'ko';
        });
    });
</script>

    <div id="loading" class="d-flex justify-content-center position-absolute w-100 h-100 bg-black bg-opacity-25 d-none" style="z-index: 9999">
        <div class="spinner-border m-auto"></div>
    </div>

<link rel="stylesheet" href="/step/plugin/swiper/swiper.min.css" />
  <link rel="stylesheet" href="/step/css/bootstrap-select.min.css" />
  <link rel="stylesheet" href="/step/css/style.css?ver=20240614144244" />
  <link rel="stylesheet" href="/step/css/style_custom.css?ver=20240614144244" />
  <script src="/step/plugin/swiper/swiper.min.js"></script>
  <script src="/step/js/bootstrap.min.js" charset="utf-8"></script>
  <script src="/step/js/bootstrap-select.min.js" charset="utf-8"></script>
  <script src="/step/js/datepicker.js"></script>
  <script src="/step/js/common.js?ver=20240614144244" charset="utf-8"></script>
  <script src="/step/js/search.js?ver=20240614144244" charset="utf-8"></script>
  <script src="/step/js/imageMapResizer.js" charset="utf-8"></script>

  <script type="text/javascript">

    var sessionMin = 120;  //120분
    //var sessionMin = 2; //2분
    var sessionTime = sessionMin * 60;

    var isMobile = {
      Android: function () {
        return navigator.userAgent.match(/Android/i) == null ? false : true;
      },
      iOS: function () {
        return navigator.userAgent.match(/iPhone|iPad|iPod/i) == null ? false : true;
      },
      any: function () {
        return (isMobile.Android() || isMobile.iOS());
      }
    };

    /*function getCookie(cookieName) {
      cookieName = cookieName + '=';
      var cookieData = document.cookie;
      var start = cookieData.indexOf(cookieName);
      var cookieValue = '';
      if(start != -1){
        start += cookieName.length;
        var end = cookieData.indexOf(';', start);
        if(end == -1)end = cookieData.length;
        cookieValue = cookieData.substring(start, end);
      }
      return unescape(cookieValue);
    }*/

    // 입력 된 링크를 전달하는 Bridge 함수
    function sendMessageToNativeApp(message) {
      try {
        if (isMobile.any()) {
          if (isMobile.Android()) {
            try {
              window.stepapp.memberEvent({
                "type": "logIn",
                "code": 0,
                "message": "success"
              });
            } catch (e) {
              console.log(e);
            }
            return;
          } else if (isMobile.iOS()) {
            try {
              window.webkit.messageHandlers.memberEvent.postMessage({
                type: "logIn",
                code: 0,
                message: "success"
              });
            } catch (e) {
              console.log(e);
            }
            return;
          }
        }
      } catch(error) {
        console.log(error);
      }
    }

    //로그인 상태이면(access_token 존재) 브릿지함수 실행
    //최초로그인이면 브릿지함수로 모바일앱에 access_token 전달
    if (getCookie("access_token") != "" && getCookie("bridge_flag") != "Y") {
      sendMessageToNativeApp(getCookie("access_token"));
      document.cookie = "bridge_flag=Y"; //최초 1회만 실행되도록 flag 기록
    }

    
    var timer;

    //fnSessionCountdown(sessionTime);
    fnRemainSession();  //남은세션 조회.

    //주기적으로 남은세션 조회.
    /*var remainSession = setInterval(function () {
      fnRemainSession();
    }, 10000);*/

    function fnSessionCountdown(seconds) {
      var update = 1000;
      var remainSessionchkTime = 0;

      timer = setInterval(function () {
        // remaining time, in seconds
        var remaining = seconds--;
        remainSessionchkTime++;

        // if done, alert
        if (remaining > 0) {
          // format
          var hour = Math.floor(remaining / 3600);
          hour = format(hour);
          var min = Math.floor((remaining % 3600) / 60);
          min = format(min);
          var sec = Math.floor((remaining % 60));
          sec = format(sec);

          // display
          var msg = hour + ":" + min + ":" + sec ;
          //var msg = min + ":" + sec ;
          var msgSec = msg;

          $("#sessionLooseTime").html(msg);
          $("#M_sessionLooseTime").html(msg);
          $("#sessionLooseTime_pop").html(msgSec);

          /!* 세션 종료 시간 3분 전일 경우 재연장 알람 *!/
          if (hour == "00" && min == "03" && sec == "00") {
            fnAutoLogoutModalShow();
          }

          if (remainSessionchkTime == 10) { //10초마다 남은세션 조회.
            fnRemainSession();
          }
        } else {
          clearInterval(timer);
          deleteCookie('screenRate');
          location.href = "/common/login/logout.do?gbn=auto";  //자동 로그아웃
          return;
        }
      }, update);
    }

    //세션타임 카운트
    /*function fnSessionCountdown(seconds) {
      // current timestamp.
      var now = new Date().getTime();
      // target timestamp; we will compute the remaining time
      // relative to this date.
      var target = new Date(now + seconds * 1000);
      // update frequency; note, this is flexible, and when the tab is
      // inactive, there are no guarantees that the countdown will update
      // at this frequency.
      //var update = 500;
      var update = 1000;
      timer = setInterval(function () {
        // current timestamp
        var now = new Date();
        // remaining time, in seconds
        var remaining = (target - now) / 1000;

        // if done, alert
        if (remaining > 0) {
          // format
          var hour = Math.floor(remaining / 3600);
          hour = format(hour);
          var min = Math.floor((remaining % 3600) / 60);
          min = format(min);
          var sec = Math.floor((remaining % 60));
          sec = format(sec);

          // display
          var msg = hour + ":" + min + ":" + sec ;
          //var msg = min + ":" + sec ;
          var msgSec = msg;

          $("#sessionLooseTime").html(msg);
          $("#M_sessionLooseTime").html(msg);
          $("#sessionLooseTime_pop").html(msgSec);

          /!* 세션 종료 시간 3분 전일 경우 재연장 알람 *!/
          if (hour == "00" && min == "03" && sec == "00") {
            fnAutoLogoutModalShow();
          }
        } else {
          clearInterval(timer);
          deleteCookie('screenRate');
          location.href = "/common/login/logout.do?gbn=auto";  //자동 로그아웃
          return;
        }
      }, update);
    }*/

    function format(num) {
      return num < 10 ? "0" + num : num;
    }

    //세션 연장
    function fnSessionExtend(){
      fnAutoLogoutModalClose();
      fnSessionTimeKeep();
    }

    //세션 연장용 ajax 호출
    function fnSessionTimeKeep() {
      $.ajax({
        type : "get",
        async : false,
        url : "/wz/api/common/keepSession",
        success:function(json) {
          if (json.result == 'success') {
            //$("#sso-frame").attr('src', "/sso/business.jsp?redirect_url=/sso/blank.jsp");
            $("#sso-frame").attr('src', "/sso/business.jsp?redirect_url=keepSession");

            fnRemainSession();
          }
        }
      });
    }

    //남은 세션시간 조회용 ajax 호출
    function fnRemainSession() {
      $.ajax({
        type : "get",
        /*async : false,*/
        url : "/wz/api/common/remainSession",
        success:function(json) {
          if (json.result == 'success') {
            sessionTime = json.sessionTime;
            fnSessionTimeReset();
          }
        }
      });
    }

    //세션타임 reset
    function fnSessionTimeReset(){
      clearInterval(timer);
      fnSessionCountdown(sessionTime);
    }

    //세션 타임아웃 지나면 logout
    function fnExpireSession() {
      deleteCookie('screenRate');
      location.href="/common/login/logout.do";
    }
    </script>
</head>

<body >
<!-- 헤더 시작 -->
<div class="M_nav M_only">
  <button class="menu_btn_close"><img src="/step/img/menu_btn_close.png" alt="메뉴닫기버튼"></button>
  <div class="M_hd">
    <ul class="login">
        <li class="M_name_li" onclick="location.href='/home/myInfo'">
          <div class="img_wrapper_M"><img src="/step/img/user_ico.png" alt="유윤석님"></div><span><span>유윤석</span>님</span>
        </li>
        <li class="select_li select_user_li">
          <div class="select_box">
            <span id="M_loginGroupNm" data-grpCd="GRP_PTL_A"></span>
            <img src="/step/img/hd_select_arrow.png" alt="">
            <ul class="depth_select" id="M_selectAccntGroup">
                <li data-grpCd="GRP_PTL_A" style="display:none">학습자</li>
                </ul>
            </div>
        </li>
        <li class="M_login_li align-items-center">
          <a href="/home/mypage">마이페이지</a>
<button type="button" name="button" class="M_logout_btn" onclick="javascript:fnExpireSession();">로그아웃</button>
        </li>
<li class="select_li M_my_training">
            <div class="select_box">
              <span data-training="나의훈련기관바로가기">나의 훈련기관 바로가기</span>
              <img src="/step/img/hd_select_arrow.png" alt="" id="M_selectTrainingArrow">
              <ul class="depth_select">
                <li data-training="나의훈련기관바로가기" id="M_selectTraining">나의 훈련기관 바로가기</li>
                <li title="대우정보처리회계학원" data-training="대우정보처리회계학원" onclick="myAccntTrnrgQuick('https://daewoo.step.or.kr', 'Y')">대우정보처리회계학원</li>
                </ul>
            </div>
          </li>
        </ul>
    </div>
  <div class="M_hd_content">
    <button type="button" class="prev_btn T_only">
      <img src="/step/img/main_menu_arrow_left.png" alt="메뉴 이전">
    </button>
    <button type="button" class="next_btn T_only">
      <img src="/step/img/main_menu_arrow_right.png" alt="메뉴 다음">
    </button>

    <div class="hd_ct_slide_M_wrapper">
      <div class="hd_ct_slide_M">
        <ul class="swiper-wrapper">
          </ul>
      </div>
    </div>
  </div>
  <div class="M_main">
    <div class="menu">
      <button class="all_menu active" data-index="0">전체메뉴</button>
      <button class="m_quick_menu" data-index="1">퀵메뉴</button>
      </div>
    <div class="menu_wrap">
      <div class="active menu_M menu_M_01 all_menu">
        <ul class="menu_01">
          <li class="nav_01">
                <a href="/home/ncs" target="_self" title="직무과정">직무과정</a>
                  </li>
            <li class="nav_01">
                <a href="/home/common" target="_self" title="공통과정">공통과정</a>
                  </li>
            <li class="nav_01">
                <a href="/home/vr" target="_self" title="가상훈련">가상훈련</a>
                  </li>
            <li class="nav_01">
                <a href="/home/theme" target="_self" title="테마과정">테마과정</a>
                  </li>
            <li class="nav_01">
                <a href="/home/kdc" target="_self" title="K-디지털">K-디지털</a>
                  </li>
            <li class="nav_01">
                <a href="javascript:;" target="_self" title="커뮤니티">커뮤니티</a>
                  <ul class="M_sub_hd_menu menu_02">
                      <li class="nav_02">
                              <a href="/home/community/notice">공지사항</a>
                            </li>
                          <li class="nav_02">
                              <a href="/home/community/freqQuestion">자주묻는 질문</a>
                            </li>
                          <li class="nav_02">
                              <a href="/home/community/qna">질의응답</a>
                            </li>
                          <li class="nav_02">
                              <a href="/home/community/courseReview">수강후기</a>
                            </li>
                          <li class="nav_02">
                              <a href="/home/community/event">이벤트</a>
                            </li>
                          <li class="nav_02">
                              <a href="javascript:;">홍보관</a>
                              <ul class="menu_03">
                                  <li class="nav_03">
                                    <a href="/home/community/promotion/prVideo/">홍보영상</a>
                                  </li>
                                </ul>
                                <ul class="menu_03">
                                  <li class="nav_03">
                                    <a href="/home/community/promotion/coursePromotion/">과목홍보</a>
                                  </li>
                                </ul>
                                <ul class="menu_03">
                                  <li class="nav_03">
                                    <a href="/home/community/promotion/newsPaper/">언론보도</a>
                                  </li>
                                </ul>
                                <ul class="menu_03">
                                  <li class="nav_03">
                                    <a href="/home/community/promotion/newsletter/">STEP UP(美)</a>
                                  </li>
                                </ul>
                                <ul class="menu_03">
                                  <li class="nav_03">
                                    <a href="/home/community/promotion/courseInterview/">인터뷰</a>
                                  </li>
                                </ul>
                                <ul class="menu_03">
                                  <li class="nav_03">
                                    <a href="/home/community/promotion/shortform/">숏폼</a>
                                  </li>
                                </ul>
                                </li>
                          <li class="nav_02">
                              <a href="/home/community/copyrightInfriRpt">저작권 침해신고</a>
                            </li>
                          <li class="nav_02">
                              <a href="/home/community/studioRsrc">스튜디오예약</a>
                            </li>
                          </ul>
                  </li>
            </ul>
      </div>
      <div class="menu_M menu_M_02 m_quick_menu">
        <ul>
          <li class="nav_02">
                    <a href="javascript:;" target="_self" id="M_quick_00" data-url="/home/search">
                      통합검색</a>
                  </li>
                <li class="nav_02">
                    <a href="/home/quickMenu/quick_03" target="_self" id="M_quick_03" data-url="/home/wiki">
                      소셜위키</a>
                  </li>
                <li class="nav_02">
                    <a href="javascript:;" target="_self" id="M_quick_02" data-url="https://mkt23.step.or.kr/mkt/marketintro/getMarketIntro.do">
                      오픈마켓</a>
                  </li>
                <li class="nav_02">
                    <a href="javascript:;" target="_self" id="M_quick_11" data-url="https://pbt.step.or.kr">
                      자기주도<br>프로젝트</a>
                  </li>
                <li class="nav_02" id="m_trustOrg_menu" style="display:none;">
            <a href="javascript:;" target="_self" title="위탁관리">위탁관리</a>
            <ul class="M_sub_hd_menu menu_02" id="m_trustOrgArea">
              </ul>
          </li>
        </ul>
      </div>
      </div>
  </div>
</div>

<div class="hd_pop M_none" style="display:none;">
  <div class="hd_pop_list">
    <div class="swiper-wrapper" id="topBannerArea">
    </div>
    <div class="hd_pop_right">
      <div class="swiper-button-prev">&lt;</div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-next">&gt;</div>
    </div>
  </div>
</div>

<div class="hd">
  <div class="hd_top M_none">
    <button type="button" name="button" class="hd_pop_close" onclick="hd_pop_close();"><span>닫기</span> <img src="/step/img/close_arrow.png" alt="닫기"></button>
    <div class="hd_con">
      <div class="hd_top_left">
        <a href="https://bank.step.or.kr/home/main/main.jsp" target="_blank"><img src="/step/img/kcba_ico.png" alt="학점은행제">학점은행제</a>
        <a href="https://ei.step.or.kr/kusrs/eduRegMgnt/selectCrsListForm.do" target="_blank"><img src="/step/img/ub_ico.png" alt="실업급여">실업급여</a>
        <ul class="my_training">
            <li class="select_li">
                <div class="select_box ">
                  <span data-training="나의훈련기관바로가기">나의 훈련기관 1바로가기</span>
                  <img src="/step/img/hd_select_arrow.png" alt="나의 훈련기관 바로가기" id="selectTrainingArrow">
                  <ul class="depth_select">
                    <li data-training="나의 훈련기관 바로가기" id="selectTraining">나의 훈련기관 바로가기</li>
                    <li title="대우정보처리회계학원" data-training="대우정보처리회계학원" onclick="myAccntTrnrgQuick('https://daewoo.step.or.kr', 'Y')">대우정보처리회계학원</li>
                    </ul>
                </div>
              </li>
            </ul>
          </div>
      <ul class="hd_top_right login">
        <li class="font_btn_li">
            <button type="button" onClick="zoomIn();"><img src="/step/img/font_plue.png" alt="브라우저 확대"></button>
            <button type="button" onClick="zoomReset();"><img src="/step/img/font_basic.png" alt="브라우저 원래대로"></button>
            <button type="button" onClick="zoomOut();"><img src="/step/img/font_min.png" alt="브라우저 축소"></button>
          </li>
          <!-- 로그인 시 ui - 주석 해제 -->
          <li class="name_li" onclick="location.href='/home/myInfo'"><img src="/step/img/user_ico.png" alt="유윤석님"><span>유윤석</span> 님</li>
          <li class="select_li select_user_li">
            <div class="select_box">
              <span id="loginGroupNm" data-grpCd="GRP_PTL_A"></span>
              <ul class="depth_select" id="selectAccntGroup">
                  <li data-grpCd="GRP_PTL_A" style="display:none">학습자</li>
                  </ul>
              </div>
          </li>
          <li class="login_li">
            <span id="sessionLooseTime">00:00:00</span>
            <button type="button" class="extension_btn" onclick="javascript:fnSessionExtend();">연장</button>
            <button type="button" name="button" class="logout_btn" onclick="javascript:fnExpireSession();">로그아웃</button>
          </li>
          <li class="mypage_li"><a href="/home/mypage">마이페이지</a></li>
          <!-- 로그인 시 ui - 주석 해제 // -->
        <li class="select_li  select_lan_li">
          <div class="select_box">
            <span>KOR <img src="/step/img/hd_select_arrow.png" alt="언어변경"></span>
                <ul class="depth_select">
                  <li onclick="fnLangChange('en')">EN</li>
                </ul>
              </div>
        </li>
        <!-- Google 번역기능 -->
        <!-- Google 번역기능  끝-->
      </ul>
    </div>
  </div>

  <div class="main_hd">
    <div class="hd_con">
      <a href="/" class="logo"><img src="/step/img/logo.png" alt="STEP"></a>
      <button class="main_hd_menu_btn menu-button M_only">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </button>

      <div class="main_hd_menu no_ct_hd">
        <div class="hd_menu_left">
          <button type="button" class="prev_btn T_only">
            <img src="/step/img/main_menu_arrow_left.png" alt="메뉴 이전">
          </button>
          <button type="button" class="next_btn T_only">
            <img src="/step/img/main_menu_arrow_right.png" alt="메뉴 다음">
          </button>
          <div class="hd_main_menu">
            <div class="hd_main_slide hd_menu_6">
              <ul class="">
                <li class="  " data-subMenu ="">
                          <a href="/home/ncs" target="_self" title="직무과정">직무과정</a>
                        </li>
                      <li class="  " data-subMenu ="">
                          <a href="/home/common" target="_self" title="공통과정">공통과정</a>
                        </li>
                      <li class="  " data-subMenu ="">
                          <a href="/home/vr" target="_self" title="가상훈련">가상훈련</a>
                        </li>
                      <li class="  " data-subMenu ="">
                          <a href="/home/theme" target="_self" title="테마과정">테마과정</a>
                        </li>
                      <li class=" active " data-subMenu ="">
                          <a href="/home/kdc" target="_self" title="K-디지털">K-디지털</a>
                        </li>
                      <li class="  " data-subMenu ="">
                          <a href="/home/community" target="_self" title="커뮤니티">커뮤니티</a>
                        </li>
                      </ul>
            </div>
          </div>
        </div>
        <div class="hd_menu_right ">
          <!--주력컨텐츠-->
          </div>
      </div>
    </div>
    <ul class="sub_hd_menu" id="3611">
        </ul>
    <ul class="sub_hd_menu" id="3627">
        </ul>
    <ul class="sub_hd_menu" id="3614">
        </ul>
    <ul class="sub_hd_menu" id="3613">
        </ul>
    <ul class="sub_hd_menu" id="3770">
        </ul>
    <ul class="sub_hd_menu" id="3712">
        </ul>
    <ul class="sub_hd_menu" id="3615">
        </ul>
    <ul class="sub_hd_menu" id="3628">
        </ul>
    <ul class="sub_hd_menu" id="3629">
        </ul>
    <ul class="sub_hd_menu" id="3630">
        </ul>
    <ul class="sub_hd_menu" id="3592">
        </ul>
    <ul class="sub_hd_menu" id="3623">
        </ul>
    <ul class="sub_hd_menu" id="3617">
        </ul>
    <ul class="sub_hd_menu" id="3640">
        </ul>
    <ul class="sub_hd_menu" id="3751">
        </ul>
    <ul class="sub_hd_menu" id="3653">
        </ul>
    <ul class="sub_hd_menu" id="3760">
        </ul>
    <ul class="sub_hd_menu" id="3761">
        </ul>
    </div>
</div>
<!-- 헤더 끝 -->

<script>
  //모바일 메뉴 버튼
  const $menuButton = document.querySelector('.menu-button');
  const $menuButtonClose = document.querySelector('.menu_btn_close');
  const $nav = document.querySelector('.M_nav');
  $menuButton.addEventListener("click", function () {

    $menuButton.classList.add("cross");
    $nav.classList.add('active');
    document.body.style.overflow = 'hidden';

    if ($(".hd_ct_slide_M .swiper-slide").length == 0) {
      $(".M_hd_content").hide();
    } else {
      //모바일 컨텐트 슬라이드
      var hd_ct_slide_M = new Swiper(".hd_ct_slide_M", {
        slidesPerView: 4,
        /* autoplay:true, */
        /* loop:true, */
        navigation: {
          nextEl: ".M_hd_content .right_arrow",
          prevEl: ".M_hd_content .left_arrow",
        },

      });
    }
  });

  $menuButtonClose.addEventListener("click", function () {

    $menuButton.classList.remove('cross');
    $nav.classList.remove('active');
    document.body.style.overflow = 'auto';

  });

  //모바일 전체메뉴/마이페이지
  /*const $menu_btn = document.querySelectorAll(".M_main > div.menu > button");
  let $menu_nav;
  let $menu_my;

  for (var i = 0; i < $menu_btn.length; i++) {

    $menu_btn[i].index = i;
    $menu_btn[i].addEventListener("click", function () {

      $menu_nav = $menu_btn[this.index].parentElement.nextElementSibling.firstChild.nextElementSibling;
      $menu_my = $menu_nav.nextElementSibling;

     console.log($menu_nav);
      for (var i = 0; i < $menu_btn.length; i++) {
        $menu_btn[i].classList.remove('active');
      }
      $menu_btn[this.index].classList.add('active');

      if($menu_btn[0].classList.contains('active')){
        $menu_my.classList.remove('active');
        $menu_nav.classList.add('active');
      }
      else if($menu_btn[1].classList.contains('active')){
        $menu_nav.classList.remove('active');
        $menu_my.classList.add('active');
      }
    });

  }*/
  //모바일 전체메뉴/마이페이지
  const $menu_btn = document.querySelectorAll(".M_main > div.menu > button");
  const $menu_con = document.querySelectorAll(".menu_M");
  let $menu_no;

  for (var i = 0; i < $menu_btn.length; i++) {
    $menu_btn[i].index = i;
    $menu_btn[i].addEventListener("click", function () {
      for (var k = 0; k < $menu_btn.length; k++){
        $menu_btn[k].classList.remove("active");
      }
      $menu_btn[this.index].classList.add("active");
      $menu_no = $menu_btn[this.index].getAttribute("data-index");
      //console.log($menu_con[$menu_no]);
      if (!$menu_con[$menu_no].classList.contains('active')){
        for (var j = 0; j < $menu_con.length; j++){
          $menu_con[j].classList.remove('active');
        }
        $menu_con[$menu_no].classList.add('active');
      }
    })

  }


  //모바일 네비

  const $nav_li_01 = document.querySelectorAll("li.nav_01 > a");
  const $li_01 = document.querySelectorAll("li.nav_01");
  let $menu_all;
  const $nav_li_02 = document.querySelectorAll('li.nav_02 > a');
  const $li_02 = document.querySelectorAll('li.nav_02');
  const $nav_li_03 = document.querySelectorAll('li.nav_03 > a');
  const $li_03 = document.querySelectorAll('li.nav_03');

  for (var i = 0; i < $nav_li_01.length; i++) {

    $nav_li_01[i].index = i;
    $nav_li_01[i].addEventListener("click", function () {

      $menu_all = $li_01[this.index].parentNode.parentNode;

      $menu_all.classList.add('active');

      if ($li_01[this.index].classList.contains('active')) {
        $li_01[this.index].classList.remove('active');
      }

      else {

        for (var i = 0; i < $li_01.length; i++) {
          $li_01[i].classList.remove('active');
        }
        $li_01[this.index].classList.add('active');

      }

    });

  }

  for (var i = 0; i < $nav_li_02.length; i++) {

    $nav_li_02[i].index = i;
    $nav_li_02[i].addEventListener("click", function () {


      //console.log($nav_li_02);

      if ($li_02[this.index].classList.contains('active')) {
        $li_02[this.index].classList.remove('active');
      }

      else {

        for (var i = 0; i < $li_02.length; i++) {
          $li_02[i].classList.remove('active');
        }
        $li_02[this.index].classList.add('active');

      }

    });

  }
  for (var i = 0; i < $nav_li_03.length; i++) {

    $nav_li_03[i].index = i;
    $nav_li_03[i].addEventListener("click", function () {


      //console.log($nav_li_02);

      if ($li_03[this.index].classList.contains('active')) {
        $li_03[this.index].classList.remove('active');
      }

      else {

        for (var i = 0; i < $li_03.length; i++) {
          $li_03[i].classList.remove('active');
        }
        $li_03[this.index].classList.add('active');

      }

    });

  }

  let hd_main_slide_var;

  // function hd_main_slide_off() {
  //
  //
  //   hd_main_slide_var = new Swiper(".hd_main_slide", {
  //     slidesPerView: 3,
  //     loop: false,
  //     allowTouchMove: false,
  //     autoplay: false,
  //     draggable:false,
  //     navigation: {
  //       nextEl: ".hd_menu_left .next_btn",
  //       prevEl: ".hd_menu_left .prev_btn",
  //     },
  //     breakpoints: {
  //       1199: {
  //         allowTouchMove: true,
  //         slidesPerView: 8,
  //         loop: false,
  //
  //         draggable:false,
  //       },
  //       1000: {
  //         allowTouchMove: true,
  //         loop: false,
  //         slidesPerView: 3,
  //         draggable:false,
  //       }
  //     },
  //   });
  // }
  //
  // function hd_main_slide_open() {
  //   hd_main_slide_var = new Swiper(".hd_main_slide", {
  //     slidesPerView: 5,
  //     loop: false,
  //     allowTouchMove: false,
  //     autoplay: false,
  //     draggable:false,
  //     navigation: {
  //       nextEl: ".hd_menu_left .next_btn",
  //       prevEl: ".hd_menu_left .prev_btn",
  //     },
  //     breakpoints: {
  //       1199: {
  //         allowTouchMove: true,
  //         slidesPerView: 8,
  //         loop: false,
  //
  //         draggable:false
  //       },
  //       1000: {
  //         allowTouchMove: true,
  //         slidesPerView: 5,
  //         loop: false,
  //         draggable:false
  //       }
  //
  //
  //     },
  //   });
  // }
  $(".hd_main_slide>ul>li").mouseover(function(){

    const subMenuUniq = $(this).attr("data-subMenu")
    let pH = ($(".page_hd").height() != undefined) ? $(".page_hd").height() : 0
    let place = this.getBoundingClientRect()

    let hd_pop =  ($('.hd_pop:visible').height() != undefined) ? $('.hd_pop:visible').height() : 0
    let hd_top = $(".main_hd").height()
    //console.log(hd_pop)
    let hd = $('.hd').height() - pH - hd_top

    let sW = $(".sub_hd_menu ").width() / 2
    let left = place.left
    let top = place.top
    //console.log(hd)
    $(".sub_hd_menu").hide()
    if (subMenuUniq !== "") {
      if ($("#"+subMenuUniq).is(":visible")) {
        $("#"+subMenuUniq).css("left", 0)
        $("#"+subMenuUniq).css("top", 0)
        $("#"+subMenuUniq).removeClass("on")
        $("#"+subMenuUniq).hide()
        $(this).removeClass("on")

      } else {
        $("#"+subMenuUniq).css("left", left + (place.width / 2))
        $("#"+subMenuUniq).css("margin-left", -sW)
        $("#"+subMenuUniq).css("top", hd_top - 20)
        $("#"+subMenuUniq).addClass("on")
        $("#"+subMenuUniq).show()
        $(this).addClass("on")
        $("#"+subMenuUniq).attr("onmouseleave", "subClose(this)")

      }
    }
  });

  function subClose(e) {
    if (!$(e.target).hasClass("sub_hd_menu")) {
      $(".sub_hd_menu").hide()

    }
  }
  $(window).resize(function(){
    $(".sub_hd_menu").hide()
  })
  function mouseFunc(e) {

    var sub_hd_menu = $(e.target).parents(".sub_hd_menu")[0]
    let checkHd = false;
    if($(sub_hd_menu).hasClass("sub_hd_menu")){
      checkHd = true
    }else if(sub_hd_menu == undefined){
      checkHd =false
    }

    if (!$(e.target).hasClass("sub_hd_menu")&&!checkHd&&$(e.target).attr("data-submenu") == undefined&&$(e.target.offsetParent).attr("data-submenu") == undefined) {
      $(".sub_hd_menu").hide()


    }
  }
  window.addEventListener("mousemove", mouseFunc, false);
  $(window).resize(function(){
    $(".sub_hd_menu").hide()
  })

  // hd_main_slide_open();

  $("html").click(function (e) {
    const hd = $(e.target).parents()[3]
    if (!$(e.target).hasClass("sub_hd_menu") && !$(hd).hasClass("hd_main_menu")) {
      $(".sub_hd_menu").hide()
    }
  });

</script>

<!-- 바디 시작 -->
<div class="layer " id="mainLayer">
  <div id="contentsLayer">
    <script>


                  // //추천 강좌
                  // var recommend_slide = new Swiper(".recommend_slide", {
                  //
                  //   slidesPerView: 1,
                  //   spaceBetween: 20,
                  //
                  //   loop: true,
                  //   speed: 1000,
                  //   slidesPerGroup:1,
                  //   navigation: {
                  //     nextEl: ".section02 .next_btn",
                  //     prevEl: ".section02 .prev_btn",
                  //   },
                  //
                  //   pagination: {
                  //     el: ".section02 .pager",
                  //     type: "fraction",
                  //   },
                  //
                  //   breakpoints: {
                  //     640: {
                  //       slidesPerGroup:2,
                  //       slidesPerView: 2,
                  //       spaceBetween: 20,
                  //
                  //
                  //     },
                  //     1199: {
                  //       slidesPerGroup:3,
                  //       slidesPerView: 3,
                  //       spaceBetween: 20,
                  //     },
                  //
                  //   },
                  //   // loop: true,
                  // });

                  //공지사항
                  var letter_slide = new Swiper(".notice_slide", {
                    slidesPerView: 1,
                    /* spaceBetween: 20, */

                    navigation: {
                      nextEl: ".section04 .next_btn",
                      prevEl: ".section04 .prev_btn",
                    },
                    /* autoplay: true,
                    autoplay: {
                      delay: 1000,
                      disableOnInteraction: false,
                    }, */
                    breakpoints: {
                      800: {
                        slidesPerView: 4,
                        /* spaceBetween: 20,
                        loop : true,
                        speed : 1000, */
                      },

                    },
                  });

                  //뉴스레터
                  var letter_slide2 = new Swiper(".letter_slide", {
                    slidesPerView: 1,


                    navigation: {
                      nextEl: ".section06 .next_btn",
                      prevEl: ".section06 .prev_btn",
                    },

                    breakpoints: {
                      800: {
                        slidesPerView: 2,

                        /* spaceBetween: 20,
                        loop : true,
                        speed : 1000, */
                      },
                      1200: {
                        slidesPerView: 4,
                        /* spaceBetween: 20,
                        loop : true,
                        speed : 1000, */
                      }

                    },
                  });
                </script>





<main class="responsive-container">
	<iframe id="content-frame" class="embed-responsive-item border-0" allow="clipboard-write" style="width:100%;height:100%;" width="100%" height="100%" frameborder="0" src="https://ekt23.step.or.kr/kdcCrsForm.do" title="K-디지털"></iframe>
</main>

<script type='text/javascript'>
        //아이프레임 영역 설정
        const iframeElement = document.getElementById('content-frame');

        let targetUrl = ""; //초기값
        let parentScrollEvent; // 스크롤 이벤트 리스너를 저장할 변수

        //자식페이지로부터 전달된 메세지
        window.addEventListener('message', function(event) {
                targetUrl = event.data.url

                if (event.data.type === 'URL') {
                        // 기존에 등록된 parentScrollEvent가 있다면 제거
                        if(parentScrollEvent) {
                                window.removeEventListener('scroll', parentScrollEvent);
                        }

                        //새로운 타겟에대한 scrollEvent를 등록
                        parentScrollEvent = scrollHandleEvent(targetUrl);

                        // 스크롤 이벤트 리스너 등록(아이프레임 내부로 매개변수 전달)
                        window.addEventListener('scroll', parentScrollEvent);

                        //이벤트 발생시 위치
                        let currentPosition = {
                                eventType: 'currentPosition',
                                position: window.scrollY,
                                viewportHeight: $(window).height()
                        };

                        iframeElement.contentWindow.postMessage(currentPosition, targetUrl);
                }

                if (event.data.type === 'childClick') {
                        //클릭시 부모페이지 위치
                        let clickPosition = {
                                eventType: 'clickPosition',
                                position: window.scrollY,
                                viewportHeight: $(window).height()
                        };

                        iframeElement.contentWindow.postMessage(clickPosition, targetUrl);
                }
        });

        //스크롤정보 전달함수
        function scrollHandleEvent(targetURL) {
                return function() {
                        const scrollPosition = window.scrollY; // 스크롤 위치
                        const viewportHeight = $(window).height();
                        const potalHeaderHeight = $(".hd").outerHeight();
                        const potalFooterHeight = $("#footer").outerHeight();
                        const potalScrollMaxHeight = $(document).height() - $(window).height();
                        const messageData = {
                                eventType: 'scrollEvent',
                                position: scrollPosition,
                                viewportHeight: viewportHeight,
                                potalHeaderHeight: potalHeaderHeight,
                                potalFooterHeight: potalFooterHeight,
                                potalScrollMaxHeight: potalScrollMaxHeight
                        };
                        iframeElement.contentWindow.postMessage(messageData, targetURL); // 자식페이지
                }
        }
</script>


</div><!-- contentsLayer-->
<!-- 퀵메뉴 시작 -->
<div class="right_fix">
    <div class="quick_menu_btn_box"><button class="quick_menu_btn T_only">QUICK<br>MENU</button></div>
        <div id="quick" style="display:none">
            <div class="quick_menu_wrap ">
                <div class="quick_menu">
                    <button type="button" class="quick_btn">
                        <img src="/step/img/user/common/quick_arrow.png" alt="QUICK 닫기">
                        <span>Quick Menu</span>
                    </button>
                    <ul>
                        <li class="quick_ico01">
                                        <a href="javascript:;" target="_self" id="quick_00" data-url="/home/search">
                                            <img src="/step/img/user/common/quick_00.png" alt="통합검색">
                                            <p>통합검색</p>
                                        </a>
                                    </li>
                                <li class="quick_ico02">
                                        <a href="/home/quickMenu/quick_03" target="_self" id="quick_03" data-url="/home/wiki">
                                            <img src="/step/img/user/common/quick_03.png" alt="소셜위키">
                                            <p>소셜위키</p>
                                        </a>
                                    </li>
                                <li class="quick_ico03">
                                        <a href="javascript:;" target="_self" id="quick_02" data-url="https://mkt23.step.or.kr/mkt/marketintro/getMarketIntro.do">
                                            <img src="/step/img/user/common/quick_02.png" alt="오픈마켓">
                                            <p>오픈마켓</p>
                                        </a>
                                    </li>
                                <li class="quick_ico04">
                                        <a href="/home/quickMenu/quick_10" target="_self" id="quick_10" data-url="https://ems.step.or.kr/user/recruitPbanc/list.do">
                                            <img src="/step/img/user/common/quick_10.png" alt="내용전문가">
                                            <p>내용전문가</p>
                                        </a>
                                    </li>
                                <li class="quick_ico05">
                                        <a href="javascript:;" target="_self" id="quick_05" data-url="https://lab.step.or.kr">
                                            <img src="/step/img/user/common/quick_05.png" alt="온라인<br>실습실">
                                            <p>온라인<br>실습실</p>
                                        </a>
                                    </li>
                                <li class="quick_ico06">
                                        <a href="javascript:;" target="_self" id="quick_11" data-url="https://pbt.step.or.kr">
                                            <img src="/step/img/user/common/quick_11.png" alt="자기주도<br>프로젝트">
                                            <p>자기주도<br>프로젝트</p>
                                        </a>
                                    </li>
                                <li class="quick_ico07">
                                        <a href="/home/quickMenu/quick_13" target="_self" id="quick_13" data-url="https://tms.step.or.kr/user/myPage/progressRateStatusU.do">
                                            <img src="/step/img/user/common/quick_13.png" alt="경력/평가관리">
                                            <p>경력/평가관리</p>
                                        </a>
                                    </li>
                                </ul>
                </div>
                <div class="quick_sub_list" style="display:none;">
                    <span>위탁관리</span>
                    <ul id="trustOrgArea">
                    </ul>
                </div>
            </div>
        </div>
    <button type="button" name="button" class="top_btn">
        <div class="top_btn_txt">
            <img src="/step/img/top_arrow.png" alt="TOP">
            <p>TOP</p>
        </div>
    </button>

</div>
<!-- 퀵메뉴 끝 -->
</div>  <!-- layer end -->
<!-- 바디 끝 -->

<!-- 푸터 시작 -->
<div id="footer" class="active">
    <div class="ft_close_box">
        <button type="button" name="button" class="ft_close" onclick="ft_close();"><span>닫기</span> <img src="/step/img/close_arrow.png" alt="FOOTER 닫기"></button>
    </div>
    <div class="ft_con">
        <div class="ft_left">
            <div class="ft_left_top">
                <img src="/step/img/ft_logo.png" alt="STEP" class="ft_logo">
                <ul class="ft_menu">
                    <li>
                                <a href="/home/ftMenu/stepIntro" target="_self" > STEP 소개</a>
                                    </li>
                        <li>
                                <a href="/home/ftMenu/orgIntro" target="_self" > 기관 소개</a>
                                    </li>
                        <li>
                                <a href="/home/ftMenu/privacyPolicy" target="_blank" style="font-weight:bold;color:#ffffff;"> 개인정보처리방침</a>
                                    </li>
                        <li>
                                <a href="/home/ftMenu/quick_01" target="_self" style="font-weight:bold;color:#ffffff;"> 원격지원</a>
                                    </li>
                        <li>
                                <a href="/home/ftMenu/termsOfUse" target="_self" > 이용약관</a>
                                    </li>
                        <li>
                                <a href="/home/ftMenu/emailReject" target="_self" > 이메일무단수집거부</a>
                                    </li>
                        <li>
                                <a href="javascript:;" onclick="fnEktIsTruthConfirm();"> 수료증검증</a>
                                    </li>
                        <li>
                                <a href="/home/ftMenu/siteMap" target="_self" > 사이트맵</a>
                                    </li>
                        </ul>
            </div>
            <div class="ft_info_txt">
                <p>한국기술교육대학교   총장 : 유길상</p>
                <p>주소 : (31253) 충청남도 천안시 동남구 병천면 충절로 1600(가전리, 한국기술교육대학교) 공학4관 A210 온라인평생교육원</p>
                <p><b>대표전화 : 041)580-4500</b>  ㅣ  FAX : 041)580-4506 ㅣ  E-Mail : step@koreatech.ac.kr</p>
                <p>사업자등록번호 : 312-82-03357 ㅣ  통신판매업신고 : 제2016-충남천안-0210호</p>
                <p>COPYRIGHT KOREA UNIVERSITY OF TECHNOLOGY AND EDUCATION. ALL RIGHTS RESERVED.</p>
            </div>
        </div>
        <div class="ft_right">
            <div class="ft_right_top">
                <select class="selectpicker" id="stepMajorOrgCd" title="교내주요기관">
                    <option value="">교내주요기관</option>
                    <option value="/home/ftMenu/majorOrg/koreatech" data-target="_blank">한국기술교육대학교</option>
                        <option value="/home/ftMenu/majorOrg/hrdiKoreatech" data-target="_blank">능력개발교육원</option>
                        <option value="/home/ftMenu/majorOrg/ksqa" data-target="_blank">직업능력심사평가원</option>
                        <option value="/home/ftMenu/majorOrg/sandanKoreatech" data-target="_blank">산학협력단</option>
                        </select>
                <select class="selectpicker" id="stepExtOrgCd" title="대외유관기관">
                    <option value="">대외유관기관</option>
                    <option value="/home/ftMenu/extrnalOrg/moel" data-target="_blank">고용노동부</option>
                        <option value="/home/ftMenu/extrnalOrg/hrdkorea" data-target="_blank">한국산업인력공단</option>
                        <option value="/home/ftMenu/extrnalOrg/kopo" data-target="_blank">한국폴리텍대학</option>
                        <option value="/home/ftMenu/extrnalOrg/keli" data-target="_blank">한국고용노동교육원</option>
                        <option value="/home/ftMenu/extrnalOrg/comwel" data-target="_blank">근로복지공단</option>
                        <option value="/home/ftMenu/extrnalOrg/kosha" data-target="_blank">한국산업안전보건공단</option>
                        <option value="/home/ftMenu/extrnalOrg/keis" data-target="_blank">한국고용정보원</option>
                        <option value="/home/ftMenu/extrnalOrg/krivet" data-target="_self">한국직업능력연구원</option>
                        <option value="/home/ftMenu/extrnalOrg/kead" data-target="_blank">한국장애인고용공단</option>
                        <option value="/home/ftMenu/extrnalOrg/hrd" data-target="_blank">직업훈련포털(HRD-Net)</option>
                        <option value="/home/ftMenu/extrnalOrg/work" data-target="_blank">고용부 워크넷</option>
                        </select>
            </div>
            <div class="ft_right_bottom">
                <a href="/home/csCenter"><p class="ft_hp" onclick="goCsCenter();">이러닝학습 문의 <span>041-580-4500</span></p></a>
                <a href="/home/csCenter"><p class="ft_hp" onclick="goCsCenter();">LMS 분양기관 및 K-디지털 문의 <span>041-580-4502</span></p></a>
                <p class="ft_time">
                    평일 AM 9:00~ PM 18:00 (점심시간 12:00~ 13:00) <br> 토,일요일 및 공휴일은 쉽니다.
                </p>
                <div class="ft_sns">
                    <span>STEP SNS</span>
                    <a href="https://www.facebook.com/ekoreatech" target="_blank"><img src="/step/img/facebook.png" alt="facebook"></a>
                    <a href="https://www.youtube.com/user/koreatecholei" target="_blank"><img src="/step/img/youtube.png" alt="youtube"></a>
                    <a href="https://blog.naver.com/e-koreatech" target="_blank"><img src="/step/img/blog.png" alt="blog"></a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- 푸터 끝 -->

<!--  메인 팝업 시작-->
<div class="notice_layer">
    <div class="notice_layer_btn_wrap">
        <button class="notice_layer_btn"><img src="/step/img/menu_btn_close.png" alt="메뉴닫기버튼"></button>
    </div>
    <div id="noticeLayer" class=""></div>
</div>


<!--  메인 팝업 끝-->

<!-- sso hidden iframe Start -->
<iframe id="sso-frame" width="0" height="0" src="about:blank" style="height:0;width:0;border:0;border:none;display:none;" title="SSO세션연장"></iframe>
<!-- sso hidden iframe End -->

<!-- 통합인증 로그인 Modal Start-->
<div class="popup_bg" id="loginModal" style="display:none;">
    <div class="popup_con iframe_popup" >
        <button type="button" class="iframe_close_btn"><img src="/step/img/iframe_close_btn.png" alt="통합회원 로그인 닫기"></button>
        <iframe id="login-frame"
                width="100%"
                src="about:blank;"
                title="통합회원 로그인"
                frameborder="0"
        ></iframe>
    </div>
</div>
<!-- 통합인증 로그인 Modal End -->
<!-- 자동로그아웃 Modal Start-->
<div class="popup_bg logout" id="autoLogoutModal" style="display:none;">
    <div class="popup_con">
        <button class="esc esc-btn" onclick="javascript:fnAutoLogoutModalClose();">X</button>
        <p class="big_text">회원님의 암호화 세션 종료로<br>
            <span id="sessionLooseTime_pop">00:00</span> 후 자동으로 로그아웃 됩니다.
        </p>
        <p class="small_text">
            암호화 세션은 회원님의 안전한 사용을 위해 제공하는 보안 기능입니다.<br>
            로그인 시간을 연장하려면 [연장] 버튼을 클릭해 주세요.
        </p>
        <div class="list-btn">
            <a href="javascript:;" class="grey-btn btn" onclick="javascript:fnExpireSession();">로그아웃</a>
            <a href="javascript:;" class="black-btn btn" onclick="javascript:fnSessionExtend();">로그인 연장하기</a>
        </div>
    </div>
</div>
<!-- 자동로그아웃 Modal End -->
<!-- 자동로그아웃 완료알림 Modal Start-->
<div class="popup_bg logout" id="autoLogoutCompleteModal" style="display:none;">
    <div class="popup_con">
        <button class="esc esc-btn" onclick="javascript:fnAutoLogoutCompleteModalClose();">X</button>
        <p class="big_text">
            안전한 사용을 위해 자동으로 로그아웃 되었습니다.
            <br>
            (장시간 서비스 미사용 및 중복 로그인)
        </p>
        <p class="small_text">
            서비스를 계속 이용하시려면 재로그인 해주세요.
        </p>
        <div class="list-btn">
            <a href="javascript:;" class="grey-btn btn esc-btn" onclick="javascript:fnAutoLogoutCompleteModalClose();">닫기</a>
            <a href="javascript:;" class="black-btn btn" onclick="javascript:fnAutoLogoutCompleteModalClose();fnLogin();">재 로그인</a>
        </div>
    </div>
</div>
<!-- 자동로그아웃 완료알림 Modal End -->

<script id="noticeDataTemplate" type="text/x-jsrender">
      <li class="swiper-slide">
        <a href="javascript:;" onclick="fnNoticeRead('{{:pstNo}}');">
            <p>{{>pstTtl}}</p>
            <div>{{>pstTextCn}}</div>
            <span class="date">{{>~format(regDt, "timestamp")}}</span>
            </a>
      </li>
    </script>
<script id="newsLetterDataTemplate" type="text/x-jsrender">
      <li class="swiper-slide">
        <a href="javascript:;" onclick="fnNewsLetterRead('{{:pstNo}}');">
            <div class="img">
              <img src="{{:thumbnail}}" alt="{{>pstTtl}}" title="{{>pstTtl}}" width="100%" onerror="fnSetErrorImage(this);">
            </div>
            <div class="txt">
              <p>{{>pstTtl}}</p>
              <span class="date">{{>~format(regDt, "timestamp")}}</span>
              </div>
        </a>
      </li>
    </script>
<script id="magazineDataTemplate" type="text/x-jsrender">
      <li class="swiper-slide">
        <a href="javascript:;" onclick="fnMagazineRead('{{:pstNo}}');" >
          <div class="img">
            <img src="{{:thumbnail}}" alt="{{>pstTtl}}" title="{{>pstTtl}}" width="100%" onerror="fnSetErrorImage(this);">
          </div>
          <p>{{>pstTtl}}</p>
        </a>
      </li>
    </script>
<script id="rcmndCrsDataTemplate" type="text/x-jsrender">
        <li class="swiper-slide">
            <button type="button" class="good_btn" onclick="fnIntrstReg('https://ekt23.step.or.kr/intrstRegAjax.do','{{:crsseqId}}', this);">
                <img src="/step/img/heart.png" alt="관심">
            </button>
            <div class="img_box">
                <div class="img">
                  <img src="{{:crsImgFileUrl}}" alt="{{:crsNm}}" onerror="fnSetErrorImage(this);">
                </div>
                <div class="hover_box">
                  <a href="javascript:;" data-detail-url="https://ekt23.step.or.kr/crsDetailForm.do?crscd={{:crscd}}&crsseqId={{:crsseqId}}&dgrId={{:dgrId}}" class="detail-link">자세히 보기</a>
                </div>
            </div>
            <div class="rc_txt_box">
                <p>{{:crsNm}}</p>
                <ul>
                  <li><span>{{:deviceType}} | </span>{{:educstFreeYn}}</li>
                  <li><span>{{:autoAprv}} | </span ><b class="stars">{{:strScr}}</b></li>
                </ul>
            </div>
        </li>
    </script>
<script id="newCrsDataTemplate" type="text/x-jsrender">
        <li class="swiper-slide">
            <a href="javascript:;" data-detail-url="https://ekt23.step.or.kr/crsDetailForm.do?crscd={{:crscd}}&crsseqId={{:crsseqId}}&dgrId={{:dgrId}}" class="detail-link">
                <div class="img">
                    <img src="{{:crsImgFileUrl}}" alt="{{:crsNm}}" onerror="fnSetErrorImage(this);">
                </div>
                <div class="new_txt_box">
                    <p>{{:crsNm}}</p>
                    <div class="tags">
                      {{if crsTpCd != ''}}<span>{{:crsTpCd}}</span>{{/if}}
                      {{if dgrSeCd != ''}}<span>{{:dgrSeCd}}</span>{{/if}}
                      {{if deviceType != ''}}<span>{{:deviceType}}</span>{{/if}}
                      {{if crsLvlCd != ''}}<span>{{:crsLvlCd}}</span>{{/if}}
                    </div>
                </div>
            </a>
        </li>
    </script>
<script id="popularCourseTemplate" type="text/x-jsrender">
        <li class="swiper-slide"><span>{{:rownum}}</span><i>{{:crsNm}}</i></li>
    </script>
<script id="popularCourseImgTemplate" type="text/x-jsrender">
        <li class="swiper-slide" style="background-image:url({{:crsImgFileUrl}});">
            <div class="class_btns">
                <button type="button" name="button" onClick="fnCntntPrvw('https://ekt23.step.or.kr/cntntPrvw.do','{{:crsseqId}}');">
                    <img src="/step/img/class_btn01.png" alt="미리보기">
                    미리보기
                </button>
                <button type="button" name="button" class="good_btn" onClick="fnIntrstReg('https://ekt23.step.or.kr/intrstRegAjax.do','{{:crsseqId}}', this);">
                    <img src="/step/img/heart.png" alt="관심과정">
                    관심과정
                </button>
                <button type="button" name="button" onClick="fnCrsrg('https://ekt23.step.or.kr/crsrgAjax.do','{{:crsseqId}}');">
                    수강신청
                </button>
            </div>
        </li>
    </script>
<script id="noticeLayerTemplate" type="text/x-jsrender">
        <div id="{{:ntcNo}}_popup" class="main_popup show" style="{{if xaxs != null }}left: {{:xaxs}}px;{{/if}}{{if yaxs != null }}top: {{:yaxs}}px;{{/if}}{{if widthLt != null && widthLt !='0'}}width: {{:widthLt}}px;{{/if}}{{if vrticlLt != null && vrticlLt !='0' }}height: {{:vrticlLt}}px;{{/if}}">
            <div class="main_popup_con">
                {{if imgMask != null }}
                    {{if linkUrl != null && linkUrl.length > 10 }}
                        <a href="{{:linkUrl}}" target="{{:linkTarget}}">
                            <img src="/wz/api/ntc/img/{{:imgMask}}" alt="레이어 이미지"/>
                        </a>
                    {{else}}
                        <img src="/wz/api/ntc/img/{{:imgMask}}" alt="레이어 이미지"/>
                    {{/if}}
                {{else}}
                    <div>
                        {{if linkUrl != null && linkUrl.length > 10 }}
                            <a href="{{:linkUrl}}" target="{{:linkTarget}}" title="{{:ttl}}">
                                <span>{{:ttl}}</span>
                            </a>
                        {{else}}
                            <span>{{:ttl}}</span>
                        {{/if}}
                        {{if editrCn != null}}
                            <div>{{:editrCn}}</div>
                        {{/if}}
                    </div>
                {{/if}}
            </div>

            <div class="main_popup_btn_box">
                <label class="checkbox" for="{{:ntcNo}}_main_chk"><input type="checkbox" id="{{:ntcNo}}_main_chk" name="main_chk" value="N"><span></span>하루동안 보지 않기</label>
                <button id="{{:ntcNo}}" class="main_popup_btn" type="button">닫기</button>
            </div>
        </div>
    </script>
<script>
    $(document).ready(function(){
        $(".notice_layer_btn").click(function(){
            $(".notice_layer").removeClass("active");
            $("body").css("overflow","unset");
        });

    });
    /*$(window).resize(function() {
        let ww = $(window).width();
        if (ww <= 1200) {
            if($(".notice_layer").hasClass("active") === true) {
                $("body").css("overflow", "hidden");
            }
        }
    });*/
</script>
<script id="trustOrgTemplate" type="text/x-jsrender">
        <li><a href="javascript:;" onclick="fnTrustOrgLink();" title="{{:orgnNm}}"><img src="{{:logoUrl}}" alt="{{:orgnNm}}"><span>{{:orgnNm}}</span></a></li>
    </script>
<script>
    // 퀵메뉴 스크립트
    $('.quick_menu_btn').click(function () {
        if ($('.quick_menu_btn_box').hasClass("on")) {
            $('.quick_menu_btn_box').removeClass('on');
            $('#quick').removeClass('on');
        } else {
            $('.quick_menu_btn_box').addClass('on');
            $('#quick').addClass('on');
        }
    });
    //let loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
    //let autoLogoutModal = new bootstrap.Modal(document.getElementById('autoLogoutModal'));
    //let autoLogoutCompleteModal = new bootstrap.Modal(document.getElementById('autoLogoutCompleteModal'));
    let loginModal = $('#loginModal');
    let autoLogoutModal = $('#autoLogoutModal');
    let autoLogoutCompleteModal = $('#autoLogoutCompleteModal');

    //최상위배너 슬라이드
    let hd_pop;
    //메인 슬라이드_PC
    let main_slide01_thumb;
    let main_slide01;

    //메인 슬라이드_MOBILE
    let main_slide01_thumb_mo;
    let main_slide01_mo;

    //이벤트 슬라이드
    let board_gallery_slide;
    //매거진 슬라이드
    let magazine_list;
    //신규 강좌 슬라이드
    let new_list_thumb;

    //실시간 인기강좌 슬라이드
    let imgSwiper;
    let titleSwiper

    let recommend_slide;

    $(document).ready(function() {
        /* 나의 훈련기관 바로가기 화면 로드 시 미리 선택시켜놓기 */
        myTrainingSetting();

        //fnTopBanner(82);      //최상위(좌우) banner - 로그인 전/후 다 보이도록. (20230713 요청) => 20230803 다시 로그인 전에만 보여달라고함.
        initZooms();    //브라우저 확대/축소 전체 적용(쿠키로 처리)

        
        fnLoginGroupNm();

        /* 나의 위탁기관 조회 */
        fnMyTrustOrg();
        

        headerFixed();
        ft_active(0);         //풋터 열기 (로그인 전/후 무조건 열어놔. 20230803 수정 요청)

        let stepQuickCookie = getCookie("stepQuick");
        
               /* if (stepQuickCookie == 'N') {
                    $('#quick').addClass('no_quick');
                } else {
                    $('#quick').removeClass('no_quick');
                }*/
            
        $('#quick').show();

        
    });

    $(window).on("scroll", function () {
        // 헤더 스크롤
        headerFixed();

    });

    function fnLangChange(langCl) {
        var curUrl = window.location.href;
        var url = curUrl;
        if (url.indexOf('lang=ko') > -1) {
            url = curUrl.substring(0,url.indexOf('lang=ko') - 1);
        } else if (url.indexOf('lang=en') > -1) {
            url = curUrl.substring(0,url.indexOf('lang=en') - 1);
        }

        if (url.indexOf('?') > -1) {
            location.href=url + "&lang=" + langCl;
        } else {
            location.href=url + "?lang=" + langCl;
        }
        //location.href="https://www.step.or.kr/home/kdc?lang=" + langCl;
    }

    // 헤더 스크롤
    function headerFixed() {
        var bannerTop = $(".hd_pop");
        var headerElm = $(".hd");
        var scrollT = $(window).scrollTop();
        /*console.log(bannerTop);
        console.log(headerElm);
        console.log(scrollT);*/
        if(document.currentScript === undefined){
            var headerHeight = $(".header").height();

            // IE
            if (bannerTop.is(":visible")) {
                var bannerTopHeight = bannerTop.height();

                if (scrollT > bannerTopHeight){
                    headerElm.addClass("header-fixed");
                } else {
                    headerElm.removeClass("header-fixed");
                }
            } else {
                if (scrollT > 0) {
                    headerElm.addClass("header-fixed");
                } else {
                    headerElm.removeClass("header-fixed");
                }
            }
        } else {
            // IE 아닐때
            if (bannerTop.is(":visible")) {
                var bannerTopHeight = bannerTop.height();

                if (scrollT > bannerTopHeight){
                    headerElm.addClass("header-fixed");
                } else {
                    headerElm.removeClass("header-fixed");
                }
            } else {
                if (scrollT > 0) {
                    headerElm.addClass("header-fixed");
                } else {
                    headerElm.removeClass("header-fixed");
                }
            }
        }
    }


    $('.hd_main_slide>ul>li').hover(function() {
        $(this).find('.sub_hd_menu').stop().slideDown();
    }, function(){
        $(this).find('.sub_hd_menu').stop().slideUp();
    });

    function myTrainingSetting(){
        let title = $("#selectTraining").text();
        let training = $("#selectTraining").attr("data-training");
        $(".my_training .depth_select li[data-training='"+training+"']").hide();
        $(".my_training .select_box>span").attr("data-training",title.replace(/\s/gi, ""))
        $(".my_training .select_box>span").text(title);
        $("#selectTrainingArrow").css({'transform':'rotate(0deg)'});

        let M_title = $("#M_selectTraining").text();
        let M_training = $("#M_selectTraining").attr("data-training");
        $(".M_my_training .depth_select li[data-training='"+M_training+"']").hide();
        $(".M_my_training .select_box>span").attr("data-training",M_title.replace(/\s/gi, ""))
        $(".M_my_training .select_box>span").text(M_title);
        $("#M_selectTrainingArrow").css({'transform':'rotate(0deg)'});
    }

    function myTrainingKeyword(){
        var keyword = $("#myTrainingKeyword").val();
        $(".my_training .depth_select li").each( function(){
            var selectBoxData = $(this).text();
            if(selectBoxData.indexOf(keyword) != -1){
                $(this).removeClass("visually-hidden");
            } else {
                $(this).addClass("visually-hidden");
            }
        });
    }

    function fnMyTrustOrg(){
        $(".quick_sub_list").hide();
        $("#m_trustOrg_menu").hide();
        //$("button.m_trustOrg_menu").hide();

        var url = "https://ekt23.step.or.kr/orgnList.do";
        $.ajax( {
                url : url,
                type : "POST",
                data : {ssoUsrIdx : "2024078630"},
                dataType : 'json',
                /*async : false,*/
                xhrFields: {
                    withCredentials: true
                },
                success : function( result) {
                    if (result.length > 0) {
                        var divStyle = $(".quick_sub_list").prop("style");
                        divStyle.removeProperty("display");
                        $("#trustOrgArea").html(
                            $("#trustOrgTemplate").render(result)
                        );

                        /*var mDivStyle = $("button.m_trustOrg_menu").prop("style");
                        mDivStyle.removeProperty("display");*/
                        var mDivStyle = $("#m_trustOrg_menu").prop("style");
                        mDivStyle.removeProperty("display");
                        $("#m_trustOrgArea").html(
                            $("#trustOrgTemplate").render(result)
                        );
                    }
                }
            }
        );
    }

    //최상단 배너 조회
    function fnTopBanner(bannGroupNo) {
        const groupUrl = "/wz/api/bann/group/" + bannGroupNo;
        var bannerTop = $(".hd_pop");
        //let bannerOpenYn = getCookie("stepTB");

        //if (bannerOpenYn != 'done') { // 하루동안 보지않기 쿠키가 없을때
        $.views.converters("getYoutubeKey", function(val) {
            return val.substring(val.lastIndexOf("/"), val.length);
        });

        const template = $.templates("{{if useYn == 'Y' && expiredYn == 'N'}}<div class='swiper-slide'>" +
            "{{if seCd == 1}}" +
            "{{:editrCn}}" +
            "{{else seCd == 2}}" +
            "{{if vdoThumbMask}}" +
            "<a href=\"{{>vdoUrl}}\" target=\"_blank\" title=\"{{>ttl}}\">" +
            "<img src=\"/wz/api/bann/thumb/{{:vdoThumbMask}}\" alt=\"{{>ttl}}\" title=\"{{>ttl}}\"/>" +
            "</a>" +
            "{{else}}" +
            "{{if vdoSeCd == 1}}" +
            "<iframe src=\"https://www.youtube.com/embed/{{getYoutubeKey:vdoUrl}}\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen width=\"100%\" height=\"100%\"></iframe>"+
            "{{else vdoSeCd == 2}}" +
            "<video src=\"{{:vdoUrl}}\" title='{{>ttl}}'/>"+
            "{{/if}}" +
            "{{/if}}" +
            "{{else seCd == 3}}" +
            "{{if linkUrl}}" +
            "<a href='{{:linkUrl}}' target='{{:linkTrgt}}' title='{{>ttl}}'/>" +
            "    <img src=\"/wz/api/bann/thumb/{{:imgMask}}\" alt=\"{{>ttl}}\" title=\"{{>ttl}}\"/>" +
            "</a>" +
            "{{else}}"+
            "<img src=\"/wz/api/bann/thumb/{{:imgMask}}\" alt=\"{{>ttl}}\" title='{{>ttl}}'/>" +
            "{{/if}}"+
            "{{/if}}" +
            "</div>{{/if}}");

        var topBannerCnt = 0;

        $.getJSON(groupUrl, null, function (json) {
            topBannerCnt = json.data.bannList.length;

            if (topBannerCnt > 0) {
                $("#topBannerArea").html(template.render(json.data.bannList));
            }
        }).done(function() {
            if (topBannerCnt > 0) {
                hd_pop = new Swiper(".hd_pop .hd_pop_list", {
                    slidesPerView: 1,
                    autoplay:true,
                    loop:true,
                    speed: 1000,
                    autoplay: {
                        delay: 4800,
                        disableOnInteraction: false,
                    },
                    pagination: {
                        el: ".swiper-pagination",
                        type: "fraction",
                    },
                    navigation: {
                        nextEl: ".swiper-button-next",
                        prevEl: ".swiper-button-prev",
                    },

                });
            }
        }).always(function() {
            if (topBannerCnt > 0) {
                
                bannerTop.hide();   // 로그인 후 메인인 경우, 최상위 배너 숨기기
                hd_pop_active(1);   //열기버튼
                
            } else {
                bannerTop.hide();
            }
        });
        /*} else {
          bannerTop.hide();
        }*/

        //최상위 배너존 - 닫기 버튼 클릭
        /*$(".hd_top .hd_pop_close").on("click", function () {
          let chkTopBannerClose = $("input[type=checkbox][name=chkTopBannerClose]").prop("checked");

          //하루동안 보지않기
          if(chkTopBannerClose === true){
            setCookie("stepTB","done",1);
          }

          $('.hd_pop').hide();
        });*/
    }

    //메인 배너 조회
    function fnMainBanner(bannGroupNo, device) {
        $.views.converters("getYoutubeKey", function(val) {
            return val.substring(val.lastIndexOf("/"), val.length);
        });

        const groupUrl = "/wz/api/bann/group/" + bannGroupNo;
        /* swiper-slide에 data-swiper-autoplay='10000' 형식으로 set 하면 10초동안 멈춤 */
        const thumbTemplate = $.templates("{{if useYn == 'Y' && expiredYn == 'N'}}<li class='swiper-slide'>"+
            "<span>" +
            "{{:ttl}}" +
            "</span>" +
            "</li>{{/if}}");
        const imgTemplate = $.templates("{{if useYn == 'Y' && expiredYn == 'N'}}<li class='swiper-slide'>"+
            "{{if seCd == 1}}" +
            "{{:editrCn}}" +
            "{{else seCd == 2}}" +
                "{{if vdoSeCd == 1}}" +
                    "<iframe src=\"https://www.youtube.com/embed/{{getYoutubeKey:vdoUrl}}\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen width=\"100%\" height=\"100%\"></iframe>"+
                "{{else vdoSeCd == 2}}" +
                    "<video src=\"{{:vdoUrl}}\" title='{{>ttl}}' preload='metadata' autoplay controls/>"+
                "{{/if}}" +
            "{{else seCd == 3}}" +
            "{{if linkUrl}}" +
            "{{if linkUrl.indexOf('javascript:') > -1 }}"+
            "<a href='{{:linkUrl}}' title='{{>ttl}}'/>" +
            "    <img src=\"/wz/api/bann/thumb/{{:imgMask}}\" alt='{{>ttl}}' title='{{>ttl}}' onerror=\"fnSetErrorImage(this);\" />" +
            "</a>" +
            "{{else}}"+
            "<a href='{{:linkUrl}}' target='{{:linkTrgt}}' title='{{>ttl}}'/>" +
            "    <img src=\"/wz/api/bann/thumb/{{:imgMask}}\" alt='{{>ttl}}' title='{{>ttl}}' onerror=\"fnSetErrorImage(this);\"/>" +
            "</a>" +
            "{{/if}}"+
            "{{else}}"+
            "<img src=\"/wz/api/bann/thumb/{{:imgMask}}\" alt='{{>ttl}}' title='{{>ttl}}' onerror=\"fnSetErrorImage(this);\"/>" +
            "{{/if}}"+
            "{{/if}}"+
            "</li>"+
            "{{/if}}");


        var bannListCnt = 0;
        $.getJSON(groupUrl, null, function (json) {
            for(var i=0; i<json.data.bannList.length; i++){
                if (json.data.bannList[i].useYn == 'Y' && json.data.bannList[i].expiredYn == 'N') {
                    bannListCnt = bannListCnt + 1;
                }
            }

            if (device == 'MOBILE') {
                $("#mainBannerThumbAreaMo").html(thumbTemplate.render(json.data.bannList));
                $("#mainBannerImgAreaMo").html(imgTemplate.render(json.data.bannList));
            } else {
                $("#mainBannerThumbArea").html(thumbTemplate.render(json.data.bannList));
                $("#mainBannerImgArea").html(imgTemplate.render(json.data.bannList));
            }
        }).done(function () {
            var slideCnt = 3;
            if (bannListCnt <= 3) {
                slideCnt = bannListCnt;
            }
            if (device == 'MOBILE') {
                // 모바일 배너 스크립트
                main_slide01_thumb_mo = new Swiper("#main_slide_mo .thumb_slide", {
                    slidesPerView: 1,
                    freeMode: true,
                    watchSlidesVisibility: true,
                    watchSlidesProgress: true,
                    direction: 'horizontal',
                    loop: true,
                    autoplay:false,
                    loopAdditionalSlides: 1,
                    speed: 1000,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                    breakpoints: {
                        800: {

                            direction: 'vertical',
                            slidesPerView: 1,

                        },
                    },
                });

                main_slide01_mo = new Swiper("#main_slide_mo .slide", {
                    slidesPerView: 1,
                    loop: true,
                    loopAdditionalSlides: 1,
                    pagination: {
                        el: "#main_slide_mo .pager",
                        type: "fraction",
                    },
                    navigation: {
                        nextEl: "#main_slide_mo .next_btn",
                        prevEl: "#main_slide_mo .prev_btn",
                    },
                    thumbs: {
                        swiper: main_slide01_thumb_mo,
                    },
                    loop: true,
                    speed: 1000,
                    autoplay: true,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },


                });
                // 모바일배너 스크립트 끝
            } else {
                //메인 배너 슬라이드
                main_slide01_thumb = new Swiper("#main_slide_pc .thumb_slide", {
                    slidesPerView: 1,
                    freeMode: true,
                    watchSlidesVisibility: true,
                    watchSlidesProgress: true,
                    direction: 'horizontal',
                    loop: true,
                    autoplay:false,
                    loopAdditionalSlides: 1,
                    speed: 1000,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                    breakpoints: {
                        800: {

                            direction: 'vertical',
                            slidesPerView: slideCnt,

                        },
                    },
                });

                main_slide01 = new Swiper("#main_slide_pc .slide", {
                    slidesPerView: 1,
                    loop: true,
                    loopAdditionalSlides: 1,
                    pagination: {
                        el: "#main_slide_pc .pager",
                        type: "fraction",
                    },
                    navigation: {
                        nextEl: "#main_slide_pc .next_btn",
                        prevEl: "#main_slide_pc .prev_btn",
                    },
                    thumbs: {
                        swiper: main_slide01_thumb,
                    },
                    loop: true,
                    speed: 1000,
                    autoplay: true,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                });
            }
        });
    }

    //이벤트 배너 조회
    function fnEventBanner(bannGroupNo) {
        const groupUrl = "/wz/api/bann/group/" + bannGroupNo;
        const template = $.templates("{{if useYn == 'Y' && expiredYn == 'N'}}<li class='swiper-slide {{if caption != null}}board_title_li{{/if}}'>"+
            "{{if seCd == 1}}" +
            "{{:editrCn}}" +
            "{{else seCd == 2}}" +
            "{{if vdoThumbMask}}" +
            "<a href=\"{{>vdoUrl}}\" target=\"_blank\" title=\"{{>caption}}\">" +
            "<img src=\"/wz/api/bann/thumb/{{:vdoThumbMask}}\" alt=\"{{>caption}}\" onerror=\"fnSetErrorImage(this);\"/>" +
            "</a>" +
            "{{else}}" +
            "{{if vdoSeCd == 1}}" +
            "<iframe src=\"https://www.youtube.com/embed/{{getYoutubeKey:vdoUrl}}\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen width=\"100%\" height=\"100%\"></iframe>"+
            "{{else vdoSeCd == 2}}" +
            "<video src=\"{{:vdoUrl}}\" title='{{>caption}}'/>"+
            "{{/if}}" +
            "{{/if}}" +
            "{{else seCd == 3}}" +
            "{{if linkUrl}}" +
            "<a href='{{:linkUrl}}' target='{{:linkTrgt}}' title='{{>ttl}}'/>" +
            "    <img src=\"/wz/api/bann/thumb/{{:imgMask}}\" title=\"{{>ttl}}\" alt=\"{{>ttl}}\" onerror=\"fnSetErrorImage(this);\"/>" +
            "</a>" +
            "{{else}}"+
            "<img src=\"/wz/api/bann/thumb/{{:imgMask}}\" title='{{>ttl}}' alt='{{>ttl}}' onerror=\"fnSetErrorImage(this);\"/>" +
            "{{/if}}"+
            "{{/if}}" +
            "{{if caption != null}}" +
            "<a href='{{:linkUrl}}' class='event_tit'>{{>caption}}</a>" +
            "{{/if}}" +
            "</li>{{/if}}");

        var eventBannerCnt = 0;
        $.getJSON(groupUrl, null, function (json) {
            eventBannerCnt = json.data.bannList.length;
            $("#eventBannerArea").html(template.render(json.data.bannList));
        }).done(function () {
            if (eventBannerCnt >= 1) {
                board_gallery_slide = new Swiper(".board_gallery_slide", {
                    slidesPerView: 1,
                    navigation: {
                        nextEl: ".main_board_right .next_btn",
                        prevEl: ".main_board_right .prev_btn",
                    },
                    loop: true,
                    speed : 1000,
                    autoplay: false,
                    autoplay: {
                        delay: 5000,
                        disableOnInteraction: false,
                    },
                });

                board_gallery_slide.autoplay.stop();

            } else {
                $(".main_board_right .board_slide_btn").hide();
            }
        });
    }

    //공지사항 조회
    function fnNoticeBoard() {
        //$.getJSON("/wz/api/board/75?pstCtgryNo=1&recordCountPerPage=4&delYn=N", null, function (board) {
        $.getJSON("/wz/api/portal/board/75?recordCountPerPage=4&delYn=N", null, function (board) {
            if (board.data.length > 0) {
                /*for(var i=0; i<board.data.length; i++){
                    board.data[i].pstTextCn = board.data[i].pstCn.replace(/(<([^>]+)>)/ig,"");
                }*/

                $(".notice_list").html(
                    $("#noticeDataTemplate").render(board.data)
                );
            } else {  //공지사항 없으면 hide
                $(".section04").hide();
            }
        }).fail(function(data) {
            console.log("fnNoticeBoard : " + data.responseJSON.message);
        });

        //공지사항 더보기 클릭
        $(".section04 .more_btn").on("click", function () {
            location.href="/home/community/notice";
        });
    }

    //공지사항 상세 클릭
    function fnNoticeRead(pstNo){
        top.location.href = "/home/community/notice#"+pstNo;
    }

    //뉴스레터 조회
    function fnNewsLetterBoard() {
        $.getJSON("/wz/api/board/76?recordCountPerPage=4&delYn=N", null, function (board) {
            if (board.data.length > 0) {
                $(".letter_list").html(
                    $("#newsLetterDataTemplate").render(board.data)
                );
            } else {  //뉴스레터 없으면 hide
                $(".section06").hide();
            }
        });

        //뉴스레터 더보기 클릭
        $(".section06 .more_btn").on("click", function () {
            location.href="/home/community/promotion/newsletter";
        });
    }

    //뉴스레터 상세 클릭
    function fnNewsLetterRead(pstNo){
        top.location.href = "/home/community/promotion/newsletter#"+pstNo;
    }

    //매거진 조회
    function fnMagazineBoard() {
        var magazineListCnt = 0;
        $.getJSON("/wz/api/board/78?recordCountPerPage=8&delYn=N", null, function (board) {
            if (board.data.length > 0) {
                magazineListCnt = board.data.length;
                $("#magazineArea").html(
                    $("#magazineDataTemplate").render(board.data)
                );
            } else {  //매거진 없으면 hide
                $(".section05").hide();
            }
        }).done(function() {
            //매거진
            magazine_list = new Swiper(".magazine_list", {
                slidesPerView: 1,
                spaceBetween: 20,
                loop : this.SwioperLength > 4,
                speed : 1000,
                watchOverflow: true,
                navigation: {
                    nextEl: ".section05 .next_btn",
                    prevEl: ".section05 .prev_btn",
                },
                autoplay: false,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                breakpoints: {
                    640: {
                        slidesPerView: 2,
                        spaceBetween: 20,
                        loop: true,
                        speed: 1000,
                    },
                    800: {
                        slidesPerView: 3,
                        spaceBetween: 20,
                    },
                    1199: {
                        slidesPerView: 4,
                        spaceBetween: 20,
                    },
                },

            });

            magazine_list.autoplay.stop();
        });

        //매거진 더보기 클릭
        $(".section05 #more_btn").on("click", function () {
            location.href="/home/community/news/magazine";
        });
    }

    //뉴스레터 상세 클릭
    function fnMagazineRead(pstNo){
        top.location.href = "/home/community/news/magazine#"+pstNo;
    }

    //추천강좌
    function fnRcmndCrsList() {
        var rcmdCrsListCnt = 0;
        $.getJSON("/wz/api/ekt/searchRcmndCrsList", null, function (data) {
            /*var ektDomain = data.moreUrl;*/
            if (data.data.length > 0) {
                rcmdCrsListCnt = data.data.length;
                for(var i=0; i<data.data.length; i++){
                    var star = "";
                    var strScr = data.data[i].strScr;
                    for(var k = 0; k < 5; k++) {
                        if (k < strScr) {
                            star += "★";
                        } else {
                            star += "☆";
                        }
                    }
                    data.data[i].strScr = star;

                    var crsImgFileUrl = data.data[i].crsImgFileUrl;
                    if (crsImgFileUrl != null) {
                        if (crsImgFileUrl.startsWith("http")) {
                            crsImgFileUrl = crsImgFileUrl;
                        } else if (crsImgFileUrl.startsWith("/data/files")) {
                            crsImgFileUrl = "https://ekt23.step.or.kr" + crsImgFileUrl;
                        } else if (crsImgFileUrl != '') {
                            crsImgFileUrl = "https://cms23.step.or.kr/file/download?filePath=" + crsImgFileUrl;
                        }
                    }
                    data.data[i].crsImgFileUrl = crsImgFileUrl;

                    /*data.data[i].detailUrl = ektDomain + "/crsDetailForm.do?crscd=" + data.data[i].crscd +"&crsseqId="+data.data[i].crsseqId+"&dgrId="+data.data[i].dgrId;    //상세보기
                    data.data[i].intrstRegUrl = ektDomain + "/intrstRegAjax.do";   //관심과정*/
                    //data.data[i].intrstRegUrl = ektDomain + "/intrstRegAjax.do?p_crsseq_id=" + data.data[i].crsseqId;   //관심과정
                }
                $("#rcListArea").html(
                    $("#rcmndCrsDataTemplate").render(data.data)
                );
            } else {  //추천강좌 없으면 hide
                $(".section02").hide();
            }
            $("#rcListArea a.detail-link").click(function (e) {
                let detailUrl = e.currentTarget.dataset["detailUrl"];
                fnIntegrateMng(detailUrl);
            });
        }).fail(function(data) {
            console.log("fnRcmndCrsList fail : " +data.responseJSON.message);
        }).done(function(){
            // 1005 추천강좌 슬라이드 추가
            recommend_slide = new Swiper(".recommend_slide", {

                slidesPerView: 1,
                spaceBetween: 20,

                loop: true,
                speed: 1000,

                navigation: {
                    nextEl: ".section02 .next_btn",
                    prevEl: ".section02 .prev_btn",
                },



                breakpoints: {
                    640: {
                        slidesPerView:2,
                        spaceBetween: 20,
                    },
                    1199: {
                        slidesPerView:4,
                        spaceBetween: 20,
                    },

                },
                // loop: true,
            });
        })
    }

    //신규강좌
    function fnNewCrsList() {
        var newCrsListCnt = 0;
        $.getJSON("/wz/api/ekt/searchNewCrsList", null, function (data) {
            /*var ektDomain = data.moreUrl;*/
            if (data.data.length > 0) {
                newCrsListCnt = data.data.length;

                for(var i=0; i<data.data.length; i++){
                    var crsImgFileUrl = data.data[i].crsImgFileUrl;
                    if (crsImgFileUrl != null) {
                        if (crsImgFileUrl.startsWith("http")) {
                            crsImgFileUrl = crsImgFileUrl;
                        } else if (crsImgFileUrl.startsWith("/data/files")) {
                            crsImgFileUrl = "https://ekt23.step.or.kr" + crsImgFileUrl;
                        } else if (crsImgFileUrl != '') {
                            crsImgFileUrl = "https://cms23.step.or.kr/file/download?filePath=" + crsImgFileUrl;
                        }
                    }
                    data.data[i].crsImgFileUrl = crsImgFileUrl;

                    //data.data[i].detailUrl = ektDomain + "/crsDetailForm.do?crscd=" + data.data[i].crscd +"&crsseqId="+data.data[i].crsseqId+"&dgrId="+data.data[i].dgrId;    //상세보기
                }

                $("#newListArea").html(
                    $("#newCrsDataTemplate").render(data.data)
                );
            } else {
                //신규강좌 없으면 hide
                $(".section03").hide();
            }
            $("#newListArea a.detail-link").click(function (e) {
                let detailUrl = e.currentTarget.dataset["detailUrl"];
                fnIntegrateMng(detailUrl);
            });
        }).done(function() {
            new_list_thumb = new Swiper(".new_list_slide", {
                slidesPerView: 1,
                spaceBetween: 20,
                slidesPerGroup : 1,
                loop : true,
                speed : 1000,

                navigation: {
                    nextEl: ".section03 .next_btn",
                    prevEl: ".section03 .prev_btn",
                },


                breakpoints: {
                    640: {
                        slidesPerView: 2,
                        slidesPerGroup: 2,
                        spaceBetween: 20,

                    },
                    1199: {
                        slidesPerView: 3,
                        spaceBetween: 20,
                        slidesPerGroup: 3,
                    },

                },


                // loop: true,
            });
        });
    }

    //실시간 인기강좌
    function fnPplCrsList() {
        $.getJSON("/wz/api/ekt/popularCourse", null, function (data) {
            //var ektDomain = data.moreUrl;

            if (data.data.length > 0) {
                for(var i=0; i<data.data.length; i++){
                    var crsImgFileUrl = data.data[i].crsImgFileUrl;
                    if (crsImgFileUrl != null) {
                        if (crsImgFileUrl.startsWith("http")) {
                            crsImgFileUrl = crsImgFileUrl;
                        } else if (crsImgFileUrl.startsWith("/data/files")) {
                            crsImgFileUrl = "https://ekt23.step.or.kr" + crsImgFileUrl;
                        } else if (crsImgFileUrl != '') {
                            crsImgFileUrl = "https://cms23.step.or.kr/file/download?filePath=" + crsImgFileUrl;
                        }
                    }
                    data.data[i].crsImgFileUrl = crsImgFileUrl;

                    //data.data[i].prvwUrl = ektDomain + "/cntntPrvw.do?p_crsseq_id=" + data.data[i].crsseqId;    //미리보기
                    /*data.data[i].prvwUrl = ektDomain + "/cntntPrvw.do";    //미리보기
                    data.data[i].intrstRegUrl = ektDomain + "/intrstRegAjax.do";   //관심과정
                    data.data[i].crsrgUrl = ektDomain + "/crsrgAjax.do";            //수강신청*/
                    //data.data[i].intrstRegUrl = ektDomain + "/intrstRegAjax.do?p_crsseq_id=" + data.data[i].crsseqId;   //관심과정
                    //data.data[i].crsrgUrl = ektDomain + "/crsrgAjax.do?p_crsseq_id=" + data.data[i].crsseqId;   //수강신청
                }
                $("#popularCourse").html(
                    $("#popularCourseTemplate").render(data.data)
                );
                $("#popularCourseImg").html(
                    $("#popularCourseImgTemplate").render(data.data)
                );
                $(".main_board_left .stop_btn_slide").show();
            } else {
                $("#popularCourse").html('데이터가 존재하지 않습니다.');
                $(".main_board_left .stop_btn_slide").hide();
            }
        }).done(function() {
            imgSwiper = new Swiper(".board_list_thumb", {
                slidesPerView: 5,
                freeMode: true,
                watchSlidesVisibility: true,
                watchSlidesProgress: true,
                direction: 'vertical',
                loop: true,
            });
            titleSwiper = new Swiper(".board_list_slide", {
                slidesPerView: 1,
                speed : 1000,
                navigation: {
                    nextEl: ".main_board_left .next_btn",
                    prevEl: ".main_board_left .prev_btn",
                },
                thumbs: {
                    swiper: imgSwiper,
                },
                loop: true,
                autoplay: false,
            });
        });
    }

    //실시간인기강좌 - 미리보기
    /*function fnCntntPrvw(url, crsseqId) {
        const $form = $("<form>").appendTo($("body"));
        $form.attr("action", url);
        $form.attr("target", "contentsPreview");
        $form.append("<input type='hidden' name='p_crsseq_id' value='" + crsseqId + "'/>");
        $form.submit();
        $form.remove();
        //window.open(url);
    }*/

    //실시간인기강좌 - 미리보기
    function fnCntntPrvw(url, crsseqId) {
        const ls_pri = "toolbar=no, location=no, directories=no, menubar=no, resizable=yes, scrollbars=yes, status=yes, fullscreen=yes,top=0,left=0 width=1280, height=768";

        const version = navigator.appVersion;
        if (version.indexOf("MSIE 7.0") > -1) {
            addHeight = 50;
        }
        $.ajax({
            url: url,
            data: {p_crsseq_id : crsseqId},
            type: "GET",
            dataType : 'json',
            success: function(response) {
                var resultPrvdYn = response.prvdYn == undefined ? "N" : response.prvdYn;

                if(response.result == '0') {
                    if(response.crsseqId == undefined) {

                        if(resultPrvdYn == 'Y') {
                            alert("선택된 과정은 홍보영상이 없습니다.");
                        }else {
                            alert("선택된 목차가 없습니다.");
                        }
                    } else {
                        var wd_pop = window.open("", "contentsPreviewPopUp", ls_pri);
                        wd_pop.blur();
                        wd_pop.focus();

                        let browser = browserReturn();
                        if(response.fulscrnUseyn == 'Y') {
                            let x = window.screen.width;
                            let y = browserScreenHeight();

                            if (browser.safari) {
                                x = parseInt(x * 0.99);
                                y = parseInt(y * 0.99);
                            }
                        } else {
                            let x = parseInt(response.width);
                            let y = parseInt(response.height)
                            if(response.istopframe == 'Y') {
                                y += 60;
                            }
                        }
                        if (navigator.userAgent.indexOf("APP_Running") > -1) {
                            const $form = $("<form>").appendTo($("body"));
                            $form.attr("action", "https://ekt23.step.or.kr/usrs/cms/contentsSamplePopUp2.do");
                            $form.append("<input type='hidden' name='p_crscd' value='" + response.crscd + "'/>");
                            $form.append("<input type='hidden' name='p_crs_cd' value='" + response.crscd + "'/>");
                            $form.append("<input type='hidden' name='p_crsseq_id' value='" + response.crsseqId + "'/>");
                            $form.append("<input type='hidden' name='p_contsid' value='" + response.contsid + "'/>");
                            $form.append("<input type='hidden' name='p_prvd_yn' value='" + resultPrvdYn + "'/>");
                            $form.append("<textarea name='p_tree_data' style='display:none;'>'" + response.treeData + "'</textarea>");
                            $form.submit();
                            $form.remove();
                        } else {
                            $("#frm").attr("target", "contentsPreviewPopUp").submit();
                            const $form = $("<form>").appendTo($("body"));
                            $form.attr("action", "https://ekt23.step.or.kr/usrs/cms/contentsSamplePopUp2.do");
                            $form.append("<input type='hidden' name='p_crscd' value='" + response.crscd + "'/>");
                            $form.append("<input type='hidden' name='p_crs_cd' value='" + response.crscd + "'/>");
                            $form.append("<input type='hidden' name='p_crsseq_id' value='" + response.crsseqId + "'/>");
                            $form.append("<input type='hidden' name='p_contsid' value='" + response.contsid + "'/>");
                            $form.append("<input type='hidden' name='p_prvd_yn' value='" + resultPrvdYn + "'/>");
                            $form.append("<textarea name='p_tree_data' style='display:none;'>'" + response.treeData + "'</textarea>");
                            $form.attr("target", "contentsPreviewPopUp").submit();;
                            $form.remove();
                        }
                    }
                } else {
                    //console.log(resultPrvdYn);

                    if(resultPrvdYn == 'Y') {
                        alert("선택된 과정은 홍보영상이 없습니다. ()");
                    }else {
                        alert("선택된 목차가 없습니다. ()");
                    }
                }

                function browserReturn() {
                    var userAgent = navigator.userAgent.toLowerCase();
                    var browser = {
                        msie    : (/msie/.test(userAgent) && !/opera/.test(userAgent)) || (navigator.appName == 'Netscape' && navigator.userAgent.search('Trident') != -1),
                        safari  : /webkit/.test(userAgent),
                        firefox : /mozilla/.test(userAgent) && !/(compatible|webkit)/.test(userAgent) && !(navigator.appName == 'Netscape' && navigator.userAgent.search('Trident') != -1),
                        opera   : /opera/.test(userAgent)
                    };
                    return browser;
                }

                function browserScreenHeight() {
                    var browser = browserReturn();
                    var totalHeight = 0;
                    if (browser.msie) {
                        totalHeight = window.screen.height;
                    } else if (browser.safari) {
                        totalHeight = parseInt(window.screen.height * 0.88);
                    } else if (browser.firefox) {
                        totalHeight = window.screen.height;
                    } else if (browser.opera) {
                        totalHeight = window.screen.height;
                    } else {
                        totalHeight = 0;
                    }
                    return totalHeight;
                }
            },
            fail: function(result, data) {
                if (result == -3) {
                    alert(data);
                } else if (result == 1) {
                    alert(MSG_SAVE_ERROR);
                } else {
                    alert(data);
                }
            }
        });
    }

    //실시간인기강좌 - 관심과정
    function fnIntrstReg(url, crsseqId, obj) {
        
                $.ajax( {
                        url : url,
                        type : "POST",
                        data : {p_crsseq_id : crsseqId},
                        dataType : 'json',
                        async : false,
                        xhrFields: {
                            withCredentials: true
                        },
                        success : function( result) {
                            if (result.data.loginYn == null) {
                                if (result.check == 'D') {
                                    alert('관심등록이 해제되었습니다.');
                                    $(obj).removeClass("on");
                                    $(obj).find("img").attr("src","/step/img/heart.png")
                                    //$self.removeClass('active');
                                } else {
                                    alert('관심등록함에 추가되었습니다..');
                                    $(obj).addClass("on");
                                    $(obj).find("img").attr("src","/step/img/heart_on.png")
                                    //$self.addClass('active');
                                }
                            } else {
                                alert('로그인이 필요한 기능 입니다.');
                            }

                            /*if (result.loginYn == 'N') {
                                alert('로그인이 필요한 기능 입니다.');
                            } else {
                                if (result.check == 'D') {
                                    alert('관심등록이 해제되었습니다.');
                                    $(obj).removeClass("on");
                                    $(obj).find("img").attr("src","/step/img/heart.png")
                                    //$self.removeClass('active');
                                } else {
                                    alert('관심등록함에 추가되었습니다..');
                                    $(obj).addClass("on");
                                    $(obj).find("img").attr("src","/step/img/heart_on.png")
                                    //$self.addClass('active');
                                }
                            }*/
                        }
                    }
                );
            

    }

    //실시간인기강좌 - 수강신청
    function fnCrsrg(url, crsseqId) {
        
                $.ajax( {
                        url : url,
                        type : "POST",
                        data : {p_crsseq_id : crsseqId},
                        dataType : 'json',
                        async : false,
                        xhrFields: {
                            withCredentials: true
                        },
                        success : function( result) {
                            if (result.data.loginYn == null) {
                                alert(result.data.msg);
                            } else {
                                alert('로그인이 필요한 기능 입니다.');
                            }

                            /*if (result.data.loginYn == 'N') {
                                alert('로그인이 필요한 기능 입니다.');
                            } else {
                                alert(result.data.msg);
                            }*/
                        }
                    }
                );
            
    }

    function fnNoticeLayer(){
        $.getJSON("/wz/api/ntc/view/1/2", null, function (data) {
            for(var i = 0 ; i < data.viewList.length ; i++){
                $("#noticeLayer").append(
                    $("#noticeLayerTemplate").render(data.viewList[i])
                );
            }
        }).done(function (){
            var noticeCnt = 0;
            $(document).find("#noticeLayer .main_popup").each(function(e) {
                $(this).find(".main_popup_btn").on("click", function() {
                    var id = $(this).attr("id");
                    if($("#"+id+"_main_chk").is(':checked') == true) {
                        setCookie(id+"_popup", "Y", 1);
                    }
                    $("#"+id+"_popup").hide();
                    $("#"+id+"_popup").removeClass("show");
                });

                var chkId = $(this).attr("id");
                var cookiedata = document.cookie;
                if (cookiedata.indexOf(chkId+"=Y") < 0) {
                    $("#"+chkId+"").show();
                    noticeCnt++;
                } else {
                    $("#"+chkId+"").remove();
                }
            });

            if (noticeCnt > 0) {
                $(".notice_layer").addClass("active");
            }

            $(".main_popup_btn").click(function(){
                if($("#noticeLayer").children().hasClass("show") === false){
                    $(".notice_layer").removeClass("active");
                    $("body").css("overflow","unset");
                }
            });
        });
    }

    function searchPage(){
        sessionStorage.setItem("query", "");
        location.href = "/home/search";
    }

    function setCookie( name, value, expiredays ) {
        //alert(name+","+value+","+expiredays);
        var todayDate = new Date();
        todayDate = new Date(parseInt(todayDate.getTime() / 86400000) * 86400000 + 54000000);
        if ( todayDate > new Date() )
        {
            expiredays = expiredays - 1;
        }
        todayDate.setDate( todayDate.getDate() + expiredays );
        document.cookie = name + "=" + escape( value ) + "; path=/; expires=" + todayDate.toGMTString() + ";"
    }

    //로그인 화면 show
    function fnLogin() {
        $('#login-frame').attr('src', "https://sso23.step.or.kr/sso/business.jsp?redirect_url=https://www.step.or.kr/sso/business.jsp");

        

        loginModal.show();
    }

    //로그인 화면 show (subpage 호출)
    function fnSubLogin(url) {
        var redirectUrl = "";
        var loginUrl = "";

        redirectUrl = encodeURIComponent("https://www.step.or.kr/sso/business.jsp?redirect_url=" + url);
        loginUrl = "https://sso23.step.or.kr/sso/business.jsp?redirect_url=" + redirectUrl;

        $('#login-frame').attr('src', loginUrl);
        loginModal.show();
    }

    //자동로그아웃 알림용 모달 창 show
    function fnAutoLogoutModalShow() {
        autoLogoutModal.show();
    }

    //자동로그아웃 알림용 모달 창 close
    function fnAutoLogoutModalClose() {
        autoLogoutModal.hide();
    }

    //자동로그아웃 완료알림용 모달 창 show
    function fnAutoLogoutCompleteModalShow() {
        $("#sessionExpireTime_pop").html(sessionMin);
        autoLogoutCompleteModal.show();
    }

    //자동로그아웃 완료알림용 모달 창 close
    function fnAutoLogoutCompleteModalClose() {
        autoLogoutCompleteModal.hide();
    }

    //회원가입 버튼 클릭
    function fnSignUp() {
        var redirectUrl = "";
        
        $('#login-frame').attr('src', "https://sso23.step.or.kr/login/signUp/signUpMain.do?redirect_url=https://www.step.or.kr/sso/business.jsp");
        loginModal.show();
    }

    //아이디찾기 버튼 클릭
    function fnFindUserId() {
        $('#login-frame').attr('src', "https://sso23.step.or.kr/login/findUserId.do?redirect_url=https://www.step.or.kr/sso/business.jsp");
        loginModal.show();
    }

    //수료증진위여부 화면 show
    function fnEktIsTruthConfirm() {
        $('#login-frame').attr('src', "https://ekt23.step.or.kr/ekt/common/isTruthConfirmForm.do");
        loginModal.show();
    }

    //상단 그룹명 setting
    function fnLoginGroupNm() {
        var selectedGrpCd = $("#loginGroupNm").attr("data-grpCd");

        $("#selectAccntGroup>li").each(function(){
            var groupId =  $(this).attr('data-grpCd');
            if (selectedGrpCd == groupId) {
                $("#loginGroupNm").html($(this).text() + `<img src="/step/img/hd_select_arrow_b.png" alt="그룹변경">`);
                return false;
            }
        });

        var M_selectedGrpCd = $("#M_loginGroupNm").attr("data-grpCd");

        $("#M_selectAccntGroup>li").each(function(){
            var groupId =  $(this).attr('data-grpCd');
            if (M_selectedGrpCd == groupId) {
                $("#M_loginGroupNm").html($(this).text() + `<img src="/step/img/hd_select_arrow_b.png" alt="그룹변경">`);
                return false;
            }
        });
    }

    //로그인 버튼 클릭
    $('.hd_login, .M_hd_login, .m_login_icon').click(function(){
        fnLogin();
    });

    //메인팝업 닫기
    $(".main_popup_btn").on("click", function () {
        var pop_num = $(this).val();
        $("#"+pop_num).hide();
        //
        // //하루동안 보지않기
        // if(chkTopBannerClose === true){
        //     setCookie("stepTB","done",1);
        // }
        //
        // $('.hd_pop').hide();
    });

    //나의 훈련기관 바로가기
    /*$('#myAccntTrnrgQuick').change(function(){
        var popupYn = $(this).find(':selected').attr('data-popupYn');
        var domain = $(this).find(':selected').val();

        if (domain == '') {
            return false;
        }

        if (popupYn == "Y") {
            window.open(domain,"_blank");
        } else {
            fnIntegrateMng(domain);
            /!*if ($("#content-frame").length == 0) {
                var new_frame = $('<iframe id="content-frame" class="embed-responsive-item border-0" style="width:100%;min-height:700px;" scrolling="no" width="100%" height="100%" frameborder="0" src="' + domain + '"></iframe>');
                $("#mainLayer").html("");
                new_frame.appendTo('#mainLayer');
            } else {
                $("#content-frame").attr('src',domain)
            }*!/
        }
    });*/
    $('#selectAccntGroup >li').click(function(){
        var groupId =  $(this).attr('data-grpCd');
        window.open( "/common/login/changeGroup.do?groupId=" + groupId, "_top");
    });
    $('#M_selectAccntGroup >li').click(function(){
        var groupId =  $(this).attr('data-grpCd');
        window.open( "/common/login/changeGroup.do?groupId=" + groupId, "_top");
    });

    function myAccntTrnrgQuick(domain, popupYn){
        /*if (domain == '') {
            return false;
        }
        if (popupYn == "Y") {
            window.open(domain,"_blank");
        } else {
            fnIntegrateMng(domain);
        }*/

        //나의 훈련기관 바로가기에서 훈련기관 선택 시 아이프레임에 관리자 화면을 띄우지 말고 학습자처럼 새창으로 이동 (23.10.16)
        window.open(domain,"_blank");
    }

    //통합관리 메뉴 클릭
    function fnIntegrateMng(domain) {
        //이렇게하면 history.back이 안되는데;; pushstate 는 cross-origin 정책상 안됨.
        /*if ($("#content-frame").length == 0) {
            var new_frame = $('<iframe id="content-frame" class="embed-responsive-item border-0" style="width:100%;min-height:700px;" scrolling="no" width="100%" height="100%" frameborder="0" src="' + domain + '"></iframe>');
            $("#contentsLayer").html("");
            new_frame.appendTo('#contentsLayer');
        } else {
            $("#content-frame").attr('src',domain)
        }
        $("#wz-edit").addClass("d-none");*/
        window.open("/home/integrateMng/cmmSys?subRedirect_url=" + encodeURIComponent(domain),'_self'); //이방식은 빈페이지를 거쳐가는거...
    };

    //위탁기관 링크 클릭 시
    function fnTrustOrgLink() {
        
            //학습자
            location.href="/home/mypage";
        
    }

    //통합검색
    $("#M_quick_00, #quick_00").click(function() {
        searchPage();
    });

    //기업간 B2B
    $("#M_quick_02, #quick_02").click(function() {
        var domain = $(this).attr("data-url");

        
        domain += "?GRP_PTL=A";
        
        fnIntegrateMng(domain);
    });

    //화상회의
    $("#M_quick_06, #quick_06").click(function() {
        fnVedioMeeting();
    });

    //PBT, 온라인 실습실
    $("#M_quick_11, #M_quick_05, #quick_11, #quick_05").click(function() {
        var domain = $(this).attr("data-url");
        
        fnIntegrateMng(domain);
        
    });

    //오류신고
    /*$("#M_quick_12, #quick_12").click(function() {
        var domain = $(this).attr("data-url");
        
                location.href = domain;
            
    });*/
    //교내주요기관, 교외유관기관
    $("#stepMajorOrgCd, #stepExtOrgCd").change(function() {
        if ($(this).val() != '') {
            window.open($(this).val(), $(this).find('option:selected').attr("data-target"));
        }
    });

    function fnVedioMeeting() {
        
        //var domain = window.location.host;

        window.open("https://live.step.or.kr:1024/sso/business.jsp", "_blank");

        //if (domain.indexOf('www.step.or.kr') > 0) {
        //window.open("https://live.step.or.kr:1024/sso/login?accnt_no=" + accntNo, "_blank");
        //} else {
        //    window.open("https://testrm.step.or.kr:1024/sso/login?accnt_no=" + accntNo, "_blank");
        //}
        
    }


    function fnKewordSearch(keyword) {
        $("#wn_srch_text").val(keyword);
        fnWnSearch("wn_srch_text");
    }

    function fnCmsErrorReportAuthYn() {
        let authYn = "N";

        $.ajax( {
                url : "/wz/api/cms/errorReportAuthYn",
                type : "GET",
                dataType : 'json',
                async : false,
                success : function( result) {
                    authYn = result.data;
                }
            }
        );
        
        return authYn;
    }
</script>
<script>
    </script>
<script type="text/javascript">
    $('.selectpicker').selectpicker();

    // 헤더 _ (그룹 change)
    $('.select_user_li').click(function(){

        var depth = $(this).find('.depth_select');

        if(depth.is(":visible")){
            $(this).find('img').css({'transform':'rotate(0)'});
            depth.slideUp();

        }else{
            $('.depth_select').slideUp(50);
            $(this).find('img').css({'transform':'rotate(180deg)'});
            depth.stop().slideDown();

        }
    });

    //나의 훈련기관 클릭 (모바일)
    $('.M_my_training').click(function(){

        var depth = $(this).find('.depth_select');

        if(depth.is(":visible")){
            $(this).find('img').css({'transform':'rotate(0)'});
            depth.slideUp();

        }else{
            $('.depth_select').slideUp(50);
            $(this).find('img').css({'transform':'rotate(180deg)'});
            depth.stop().slideDown();

        }
    });

    //나의 훈련기관 클릭 (pc)
    $('.my_training li.select_li .select_box>span').click(function () {

        var search = $('.my_training_search');
        var depth = $(this).parents(".select_box").find('.depth_select');

        if (depth.is(":visible")) {
            $(this).parents(".select_box").find('img').css({ 'transform': 'rotate(0)' });
            depth.hide();
            /* search.removeClass("active"); */
            search.css("display","none");
        } else {
            $('.depth_select').hide();
            $(this).parents(".select_box").find('img').css({ 'transform': 'rotate(180deg)' });
            /* search.addClass("active"); */
            search.css("display","inline-flex");
            depth.stop().show();
        }

    });

    $('.select_lan_li').click(function () {
        var depth = $(this).find('.depth_select');

        if (depth.is(":visible")) {
            $(this).find('img').css({ 'transform': 'rotate(0)' });
            depth.slideUp();
        } else {
            $('.depth_select').hide();
            $(this).find('img').css({ 'transform': 'rotate(180deg)' });
            depth.stop().slideDown();

        }
    });
    $("html").click(function (e) {

        if (!$(e.target).hasClass("select_li") && !$(e.target).hasClass("select_box") && !$(e.target).hasClass("my_training_search")  && !$(e.target).hasClass("filter")  &&  !$(e.target.offsetParent).hasClass("select_li")) {
            $(".depth_select").stop().hide()
            $(".my_training_search").hide();
            $('.select_li img').css({ 'transform': 'rotate(0)' });
        }
    });
    // 메인 상단 나의 훈련 과정 버튼 이벤트 추가
    $(function(){
        let checkTitle = $(".my_training .select_box>span").attr("data-training");
        $(".my_training .depth_select li[data-training="+checkTitle+"]").hide();
    })
    $(".my_training .depth_select>li").click(function(){
        let title = $(this).text();
        let training = $(this).attr("data-training");
        $(".my_training .depth_select li").show();
        $(".my_training .depth_select li[data-training='"+training+"']").hide();
        $(".my_training .select_box>span").attr("data-training",title.replace(/\s/gi, ""))
        $(".my_training .select_box>span").text(title);
        $(".my_training .depth_select").slideUp();
    })

    $(function(){
        let M_checkTitle = $(".M_my_training .select_box>span").attr("data-training");
        $(".M_my_training .depth_select li[data-training="+M_checkTitle+"]").hide();
    })
    $(".M_my_training .depth_select>li").click(function(){
        let title = $(this).text();
        let training = $(this).attr("data-training");
        $(".M_my_training .depth_select li").show();
        $(".M_my_training .depth_select li[data-training='"+training+"']").hide();
        $(".M_my_training .select_box>span").attr("data-training",title.replace(/\s/gi, ""))
        $(".M_my_training .select_box>span").text(title);
        $(".M_my_training .depth_select").slideUp();
    })


    //주력컨텐츠 슬라이드
    var hdCtSlideCnt = 2;
    if ($(".hd_ct_slide>ul>li").length <= 2) {
        hdCtSlideCnt = $(".hd_ct_slide>ul>li").length;
    }
    var hd_ct_slide = new Swiper(".hd_ct_slide", {
        slidesPerView: hdCtSlideCnt,
        autoplay:true,
        loop:true,
        navigation: {
            nextEl: ".hd_content_menu .right_arrow",
            prevEl: ".hd_content_menu .left_arrow",
        }

    });

    $('.left_more_btn ').click(function () {
        if ($('.main_hd_menu').hasClass("no_ct_hd")) {
            main_hd_menu(0);
        }else{
            main_hd_menu(1);
        }
    });

    function main_hd_menu(status) {
        if (status == 0) {
            $(".hd_content_menu").show();
            $('.main_hd_menu').removeClass('no_ct_hd');
            $('.left_more_btn').removeClass('on');
            hd_ct_slide.autoplay.start();
            // hd_main_slide_open();
        } else {
            $(".hd_content_menu").hide();
            $('.main_hd_menu').addClass('no_ct_hd');
            $('.left_more_btn').addClass('on');
            hd_ct_slide.autoplay.stop();
            // hd_main_slide_off();
        }
    }

    $('.quick_btn').click(function () {
        var quickOpenYn = "";
        if ($('#quick').hasClass("no_quick")) {
            $('#quick').removeClass('no_quick');
            $(this).children('img').attr("alt","QUICK 닫기");
            quickOpenYn = "Y";
        }else{
            $('#quick').addClass('no_quick');
            $(this).children('img').attr("alt","QUICK 열기");
            quickOpenYn = "N";
        }
        setCookie("stepQuick",quickOpenYn,1);
    });

    $('.top_btn').click(function(){
        $('html, body').animate({ scrollTop: 0 }, 300);
    });

    // 팝업
    $('.pop_close').click(function(){
        $('.pop_layer').hide();
    });
    function open_pop(e){
        $('#'+e).show();
    }
    /*$('.hd_pop_close').click(function(){
      $('.hd_pop').slideUp();
    });*/

    //실시간 인기 강좌
    /*    var board_list_thumb = new Swiper(".board_list_thumb", {
            slidesPerView: 5,
            freeMode: true,
            watchSlidesVisibility: true,
            watchSlidesProgress: true,
            direction: 'vertical',

            loop: true,
          });

        var board_list_slide = new Swiper(".board_list_slide", {
            slidesPerView: 1,
            speed : 1000,

            navigation: {
              nextEl: ".main_board_left .next_btn",
              prevEl: ".main_board_left .prev_btn",
            },
            thumbs: {
              swiper: board_list_thumb,
            },
            loop: true,
            autoplay: false,

          });*/

    //신규 강좌
    /*var board_list_thumb = new Swiper(".new_list_slide", {
        slidesPerView: 3,
        spaceBetween: 20,
        slidesPerGroup : 3,
        loop : true,
        speed : 1000,

        navigation: {
          nextEl: ".section03 .next_btn",
          prevEl: ".section03 .prev_btn",
        },

        pagination: {
          el: ".section03 .pager",
          type: "fraction",
        },

        // loop: true,
      });*/

    // 240123 레프트 메뉴 모바일 버전 스크립트
    $(window).resize(function(){
        let ww = $(window).width();
        if(ww>1200){
            $(".left_menu_wrapper .left_menu").css('display',"table-cell");

        }else{
            if(!$(".hd_cate_btn").hasClass("open")){
                $(".left_menu_wrapper .left_menu").css('display',"none");
                $(".hd_cate_btn").removeClass("open");
            }
        }
    });

    function moLeftMenuOpen(){
        const ww = $(window).width();
        if(ww<=1200){
            if($(".hd_cate_btn").hasClass("open")){
                $(".hd_cate_btn").removeClass("open");
                $(".left_menu_wrapper .left_menu").fadeOut();
                $(".left_menu_wrapper .left_menu ul").animate({"left":"-60%"});
            }else{
                $(".hd_cate_btn").addClass("open");
                $(".left_menu_wrapper .left_menu").fadeIn();
                $(".left_menu_wrapper .left_menu ul").animate({"left":0});
            }
        }
    }
    $('.left_menu').click(function(e){
        const ww = $(window).width();
        if(ww<=1200){
            if($(e.target).hasClass("left_menu")){
                $(".hd_cate_btn").removeClass("open");
                $(".left_menu_wrapper .left_menu").fadeOut();
                $(".left_menu_wrapper .left_menu ul").animate({"left":"-60%"});
            }
        }
    })
    // 240123 레프트 메뉴 모바일 버전 스크립트 끝

    //sns
    /*주석처리*/
    $( window ).resize( function() {
        if($(window).width()<641){
            $(".sns_list_con").removeClass("swiper-slide")
            let lis = $(".sns_list_con");

            for (let i = 0; i < lis.length ;  i+= 2) {
                if(!$(lis).eq(i).parent().hasClass("swiper-slide")){
                    lis.slice(i, i+2).wrapAll("<div class='swiper-slide'></div>")
                }
            }
        }
    } );

    var sns_slide = new Swiper(".sns_slide", {
        slidesPerView: 1,


        spaceBetween: 20,
        loop : false,
        speed : 1400,

        navigation: {
            nextEl: ".sns_slide_wrap .next_btn",
            prevEl: ".sns_slide_wrap .prev_btn",
        },
        autoplay: false,
        // autoplay: {
        //   delay: 1000,
        //   disableOnInteraction: false,
        // },
        breakpoints: {
            640: {
                slidesPerView: 3,
                spaceBetween: 20,
            },
            1199: {
                slidesPerView: 5,
                spaceBetween: 20,
            },
        },
    });
    /*주석처리*/
    //스마트 혼합훈련
    /*주석처리*/
    var mid_banner_slide = new Swiper(".mid_banner_slide", {
        slidesPerView: 1,
        loop : true,
        navigation: {
            nextEl: ".mid_banner_slide .next_btn",
            prevEl: ".mid_banner_slide .prev_btn",
        },
        autoplay: true,
        speed : 2000,
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
    });
    /*주석처리*/
    /*주석처리*/
    //학습관리 시스템
    var system_slide = new Swiper(".system_slide", {
        slidesPerView: 1,
        loop : true,
        navigation: {
            nextEl: ".system_slide_wrap .next_btn",
            prevEl: ".system_slide_wrap .prev_btn",
        },
        speed : 2000,
        autoplay: true,
        autoplay: {
            delay: 3000,
            disableOnInteraction: false,
        },
    });
    /*주석처리*/
    //좋아요 버튼
    $('.good_btn').click(function(){
        if($(this).hasClass('active')){
            $(this).removeClass('active');
            $(this).find('img').attr('src','img/heart.png');
        }else{
            $(this).addClass('active');
            $(this).find('img').attr('src','img/heart_on.png');
        }
    });

    function slide_stop(e){
        if(e.autoplay.running){
            e.autoplay.stop();

        }else{
            e.autoplay.start();
        }

    };

    $('.stop_btn_slide').on('click', function () {
        let title = $(this).closest(".board_tit").text().trim() + " ";
        if ($(this).hasClass('start')) {
            $(this).addClass('stop');
            $(this).removeClass('start');
            $(this).children('img').attr("src","step/img/board_slide_btn03.png");
            $(this).children('img').attr("alt",title + "정지");
        } else {
            $(this).addClass('start');
            $(this).removeClass('stop');
            $(this).children('img').attr("src","step/img/play_btn.png");
            $(this).children('img').attr("alt",title + "시작");
        }
    });

    $('.main_slide_stop').on('click', function () {
        if ($(this).hasClass('start')) {
            $(this).addClass('stop');
            $(this).removeClass('start');
            $(this).children('img').attr("src","step/img/stop_ico.png");
        } else {
            $(this).addClass('start');
            $(this).removeClass('stop');
            $(this).children('img').attr("src","step/img/main_play.png");

        }
    });

    $('.iframe_close_btn').click(function(){
        $('.iframe_popup>iframe').attr('src','');
        loginModal.hide();
    });

    function ft_close(){
        if($('#footer').hasClass("active")){
            ft_active(0);
            $('html, body').scrollTop( $(document).height() );
        }else{
            ft_active(1);
        }
    }
    function ft_active(status) {
        if (status == 0) {
            $("#footer").removeClass("active");
            /*$('.ft_close').find('span').text('닫기');
            $('.ft_close img').css({"transform" : 'rotate(180deg)'});*/
        } else {
            $("#footer").addClass("active");
            /*$('.ft_close').find('span').text('열기');
            $('.ft_close img').css({"transform" : 'rotate(0)'});*/
        }
        $('.ft_close_box').hide();
    }
    function hd_pop_close () {
        if ($('.hd_pop').is(":visible")) {
            $('.hd_pop').slideUp();
            hd_pop_active(1); //열기버튼
            //setCookie("stepTB","done",1);
        } else {
            $('.hd_pop').slideDown();
            hd_pop_active(0); //닫기버튼
        }
    }
    function hd_pop_active(status) {
        if (status == 1) {    //열기버튼
            $('.hd_pop_close').addClass("active");
            $('.hd_pop_close').find('span').text('열기');
        } else {              //닫기버튼
            $('.hd_pop_close').removeClass("active");
            $('.hd_pop_close').find('span').text('닫기');
        }
    }
</script>
<script>
    //iframe resize 관련 함수.
    var postMessageHandler = function(event) {
        var method = event.data.method;

        if (event.origin.indexOf('.step.or.kr') > -1) {
            switch(method) {
                case 'loginResize' :
                    var height = event.data.height;
                    document.getElementById("login-frame").style.height = height + 'px';
                    break;
                case 'resize':
                    var height = event.data.height + 10;
                    document.getElementById("content-frame").style.height = height + 'px';
                    console.log("resize height : " + height);
                    break;
                case 'sessionExtend':
                    fnSessionExtend();
                    break;
                case 'scrollTop':
                    $('html, body').animate({ scrollTop: 0 }, 300);
                    break;
                case 'login':
                    var portalPageUrl = "/home/integrateMng/cmmSys";
                    var subSystemUrl = event.data.redirect_url;

                    fnSubLogin(portalPageUrl + "?subRedirect_url=" + subSystemUrl);
                    break;
            }
        }
    };


    window.addEventListener("message", postMessageHandler);
</script>

</body>
</html>
